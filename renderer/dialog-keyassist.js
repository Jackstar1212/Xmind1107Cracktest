(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[6454],{29854:(t,e,a)=>{"use strict";var r=a(95318);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var o=r(a(59713)),s=a(20629),i=a(96486),n=r(a(71191)),c=a(48932),u=a(40518),l=a(99492),d=r(a(24678)),p=a(24092),h=r(a(20293)),m=a(55106),f=r(a(58331));function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}const k=n.default.parse(window.location.search.slice(1));var b={mixins:[h.default],components:{CommonNonePanel:f.default},data(){return{isMac:"darwin"===(0,p.getPlatform)(),activeTab:"",inputedShortcutName:"",selectedGroup:"",searchedShortcutGroups:{},EDITOR_MODE_SNOWBRUSH:c.EDITOR_MODE_SNOWBRUSH,EDITOR_MODE_OUTLINER:c.EDITOR_MODE_OUTLINER,PITCH_MODE_KEY:"pitch",customizeImageURL:this.$toResourceURL("static/assets/images/icon-keyassist-gear.svg")}},computed:g(g(g({},(0,s.mapState)("keybindings",["groups"])),(0,s.mapGetters)("preferences",["appearance"])),{},{allGroupOption(){return this.$T("All")},searchIconImage(){return this.$toResourceURL("/static/images/navigation-panel/searchbar-search.svg")},keyData(){let t={[this.allGroupOption]:{}};return this.activeTab===this.PITCH_MODE_KEY?(this.pitchShortcuts.forEach((e=>{t[e.category]=t[e.category]||{},t[e.category][e.commandId]=g(g({},e),{},{accelerator:e.accelerator.filter((t=>"+"!==t))})})),t):(this.shortcuts.filter((t=>!!t&&(this.activeTab===c.EDITOR_MODE_OUTLINER?t.groupName===c.EDITOR_MODE_OUTLINER||t.isSupportedInOutliner:!t.groupName))).map((e=>{t[e.category]||(t[e.category]={});let a=this.$store.getters["keybindings/keybindingByCommandIdAndGroup"](e.commandId,e.groupName);const r=m.builtInAccelerator.find((({commandId:t})=>t===e.commandId));r&&(a=(0,u.toKeybinding)((0,u.toBinaryKeybinding)(r.accelerator))),t[e.category][e.commandId]=g(g({},e),{},{accelerator:a?a.split("+"):[]})})),t)},activeTabIndex(){return[c.EDITOR_MODE_SNOWBRUSH,c.EDITOR_MODE_OUTLINER].indexOf(this.activeTab)}}),mounted(){this.activeTab=k.editorMode||c.EDITOR_MODE_SNOWBRUSH,this.selectedGroup=this.allGroupOption,this.searchedShortcutGroups=g({},(0,i.omit)(this.keyData,this.allGroupOption)),this.$nextTick((()=>{this.$refs.searchInput.focus()}))},watch:{inputedShortcutName:(0,i.debounce)((function(){this.searchShortcutsByGroup()}),200),activeTab(){this.searchShortcutsByGroup()},groups:{handler(){this.searchShortcutsByGroup()},deep:!0}},methods:{close(){"function"==typeof window.close&&window.close()},openCustomizeShortcut(){this.$safeRun((async()=>{await d.default.fetch(l.WINDOW_OPEN,{name:"preferences",query:{tab:"shortcuts"}})}))},displaySymbol(t){let e=t;return this.isMac&&(e=c.MAC_MODIFIER_ICON[t]||t),"string"==typeof e&&(e=e.replace("=","+")),e},onActiveTabChange(t){this.activeTab=t,this.onSelectedGroupChange(this.allGroupOption),this.$refs.shortcutContainerRef.scrollTo({top:0,left:0})},onSelectedGroupChange(t){this.selectedGroup=t,this.searchShortcutsByGroup()},searchShortcutsByGroup(){const t=this.selectedGroup===this.allGroupOption?this.keyData:{[this.selectedGroup]:this.keyData[this.selectedGroup]},e=this.inputedShortcutName.replace(/[-\\{}*+?|^$.[\]()#]/g,"\\$&"),a=new RegExp(e,"i"),r={};for(const e in t){const o=t[e],s={};for(const t in o)a.test(o[t].label)&&(s[t]=o[t]);Object.keys(s).length&&(r[e]=s)}this.searchedShortcutGroups=g({},r)}}};e.Z=b},55106:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.builtInAccelerator=void 0;const a=[{commandId:"editor.moveSelection",accelerator:"Arrow"},{commandId:"switchBetweenXMindWindows",accelerator:"Command+`"},{commandId:"closeAllWindows",accelerator:"Command+Q"},{commandId:"editor.editTopicText",accelerator:"Space"},{commandId:"editor.enterLineBreak",accelerator:"Shift+Enter"},{commandId:"editor.moveToBeginningOfText",accelerator:"CmdOrCtrl+Left"},{commandId:"editor.moveToEndOfText",accelerator:"CmdOrCtrl+Right"},{commandId:"editor.selectMultipleTopics",accelerator:"Shift+Arrow"},{commandId:"editor.moveTopicUp",accelerator:"Alt+Up"},{commandId:"editor.moveTopicDown",accelerator:"Alt+Down"},{commandId:"editor.markPriorityByNumber",accelerator:"CmdOrCtrl+1~7"},{commandId:"editor.toggleBranchByNumber",accelerator:"Alt+CmdOrCtrl+1~9"}].filter(Boolean);e.builtInAccelerator=a},23973:(t,e,a)=>{"use strict";var r=a(95318),o=r(a(2872)),s=r(a(24034)),i=r(a(18426));(0,o.default)(i.default,{storeModules:{Keybindings:s.default}})},24092:(t,e,a)=>{"use strict";var r=a(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatform=function(){return process.platform},e.getOSInfo=function(){return{platform:o.default.platform(),arch:o.default.arch(),release:o.default.release()}},e.openExternal=function(t){s.remote.shell.openExternal(t).catch((t=>{n.default.fetch(i.WINDOW_OPEN,{name:"dialog-problem",payload:{name:"OpenError",message:t.message||t,stack:t.stack,code:"OPEN_LINK"}})}))},e.copyToClipboard=function(t){s.clipboard.writeText(t)};var o=r(a(12087)),s=a(58933),i=a(99492),n=r(a(24678))},82577:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>n});var r=a(94015),o=a.n(r),s=a(23645),i=a.n(s)()(o());i.push([t.id,"\n.customize-icon[data-v-4af453d4] {\n  height: 24px;\n  width: 24px;\n  position: absolute;\n  right: 14px;\n  top: 18px;\n}\n.empty-block[data-v-4af453d4] {\n  line-height: 27px;\n}\n.symbol-block[data-v-4af453d4] {\n  min-width: 19px;\n  justify-content: center;\n}\n.uk-fieldset > div:not(:first-child) > .shortcut-group[data-v-4af453d4] {\n  padding-top: 16px;\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/dialog-keyassist/app.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX;AACA;EACE,iBAAiB;AACnB;AACA;EACE,eAAe;EACf,uBAAuB;AACzB;AACA;EACE,iBAAiB;AACnB",sourcesContent:["\n.customize-icon[data-v-4af453d4] {\n  height: 24px;\n  width: 24px;\n  position: absolute;\n  right: 14px;\n  top: 18px;\n}\n.empty-block[data-v-4af453d4] {\n  line-height: 27px;\n}\n.symbol-block[data-v-4af453d4] {\n  min-width: 19px;\n  justify-content: center;\n}\n.uk-fieldset > div:not(:first-child) > .shortcut-group[data-v-4af453d4] {\n  padding-top: 16px;\n}\n"],sourceRoot:""}]);const n=i},18426:(t,e,a)=>{"use strict";a.r(e),a.d(e,{__esModule:()=>r.X,default:()=>s});var r=a(29854);var o=function(t){a(5293)};const s=(0,a(62236).Z)(r.Z,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-window uk-window-dialog",attrs:{id:"app"}},[a("div",{staticClass:"uk-window-title-bar"},[a("div",{staticClass:"uk-window-title"},[t._v("\n      "+t._s(t.$T("Key Assist"))+"\n    ")]),t._v(" "),a("window-control-button-group")],1),t._v(" "),a("div",{staticClass:"uk-window-body uk-flex uk-flex-column uk-position-relative"},[a("ul",{staticClass:"uk-tab uk-tab-large uk-flex-center uk-tab-capsule uk-margin-remove",staticStyle:{"padding-top":"16px"}},[a("li",{class:{"uk-active":t.activeTab===t.EDITOR_MODE_SNOWBRUSH}},[a("a",{attrs:{draggable:"false",href:"#"},on:{click:function(e){return t.onActiveTabChange(t.EDITOR_MODE_SNOWBRUSH)}}},[t._v("\n          "+t._s(t.$T("Mind Map"))+"\n        ")])]),t._v(" "),a("li",{class:{"uk-active":t.activeTab===t.EDITOR_MODE_OUTLINER}},[a("a",{attrs:{draggable:"false",href:"#"},on:{click:function(e){return t.onActiveTabChange(t.EDITOR_MODE_OUTLINER)}}},[t._v("\n          "+t._s(t.$T("Outliner"))+"\n        ")])]),t._v(" "),a("li",{class:{"uk-active":t.activeTab===t.PITCH_MODE_KEY}},[a("a",{attrs:{draggable:"false",href:"#"},on:{click:function(e){return t.onActiveTabChange(t.PITCH_MODE_KEY)}}},[t._v("\n          "+t._s(t.$T("Pitch"))+"\n        ")])])]),t._v(" "),a("button",{staticClass:"uk-button uk-button-tile uk-button-icon customize-icon",on:{click:t.openCustomizeShortcut}},[a("div",{staticStyle:{"vertical-align":"1px"},attrs:{"data-src":t.customizeImageURL,"uk-svg":""}})]),t._v(" "),a("div",{staticClass:"uk-flex uk-flex-row uk-padding uk-padding-remove-bottom"},[a("div",{staticClass:"uk-width-1-3"},[a("button",{staticClass:"uk-width-1-1 uk-button uk-button-popover-toggle uk-select-icon uk-text-left"},[t._v("\n          "+t._s(t.selectedGroup)+"\n        ")]),t._v(" "),a("div",{ref:"popover",staticClass:"uk-popover-contextual",staticStyle:{width:"220px"},attrs:{"uk-contextual-popover":"","data-sel-close":"[uk-menu] > li > button"}},[a("ul",{staticClass:"uk-height-1-1",attrs:{"uk-menu":""}},t._l(t.keyData,(function(e,r){return a("li",{key:r},[a("button",{class:{"uk-checked":t.selectedGroup===r},attrs:{autofocus:t.selectedGroup===r},on:{click:function(e){return t.onSelectedGroupChange(r)}}},[a("span",[t._v(t._s(r.replace("(Outliner)","")))])])])})),0)])]),t._v(" "),a("div",{staticClass:"uk-position-relative uk-width-2-3 uk-margin-small-left"},[a("img",{staticClass:"uk-position-absolute",staticStyle:{top:"5px",left:"4px"},attrs:{draggable:"false",src:t.searchIconImage,"uk-svg":""}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputedShortcutName,expression:"inputedShortcutName"}],ref:"searchInput",staticClass:"uk-flex uk-input uk-search-input",staticStyle:{"padding-left":"20px"},attrs:{autofocus:"true","uk-icon":"icon: search; ratio: 3",placeholder:t.$T("Search shortcuts")},domProps:{value:t.inputedShortcutName},on:{input:function(e){e.target.composing||(t.inputedShortcutName=e.target.value)}}})])]),t._v(" "),a("ul",{ref:"shortcutContainerRef",staticClass:"uk-switcher uk-height-expand uk-flex uk-flex-column uk-margin"},[a("li",{staticClass:"uk-panel uk-padding uk-height-expand uk-active uk-padding-remove-top uk-padding-remove-bottom",staticStyle:{"margin-bottom":"36px"}},[a("div",{staticClass:"uk-height-1-1"},[a("div",{staticClass:"uk-fieldset uk-overflow-auto",staticStyle:{height:"100%"}},[t._l(t.searchedShortcutGroups,(function(e,r,o){return a("div",{key:r},[a("div",{staticClass:"shortcut-group"},[a("h1",[t._v("\n                  "+t._s(r.replace("(Outliner)",""))+"\n                ")]),t._v(" "),t._l(e,(function(e){return a("div",{key:e.commandId,staticClass:"uk-flex uk-flex-between uk-flex-middle uk-margin-small",class:{"empty-block":!e.accelerator.length}},[a("div",{staticClass:"uk-text-left"},[t._v("\n                    "+t._s(e.label)+"\n                  ")]),t._v(" "),e.accelerator.length?a("div",{staticClass:"uk-flex uk-flex-middle"},t._l(e.accelerator,(function(r,o){return a("div",{key:o,staticClass:"uk-flex uk-flex-middle"},[t.isMac||!o||e.accelerator.slice(o-1,o+1).includes("||")?t._e():a("div",{staticClass:"uk-flex uk-margin-xsmall-left uk-margin-xsmall-right"},[t._v("\n                        +\n                      ")]),t._v(" "),["||"===r?a("div",{staticClass:"uk-text-muted",style:{width:0,marginLeft:"-5px"}},[t._v("\n                          ,\n                        ")]):a("div",{staticClass:"uk-flex uk-border-rounded uk-flex uk-padding-xsmall symbol-block",class:{"uk-margin-small-right":o<e.accelerator.length-1},style:{"background-color":"dark"===t.appearance?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}},[t._v("\n                          "+t._s(t.displaySymbol(r))+"\n                        ")])]],2)})),0):t._e()])}))],2),t._v(" "),o+1<Object.keys(t.searchedShortcutGroups).length?a("hr",{staticClass:"uk-margin-remove-top uk-margin-remove-bottom"}):t._e()])})),t._v(" "),Object.keys(t.searchedShortcutGroups).length?t._e():a("div",{staticClass:"uk-flex uk-height-1-1"},[a("common-none-panel",{attrs:{type:"no-result","container-style":"height: unset;"}})],1)],2)])])])])])}),[],!1,o,"data-v-4af453d4",null).exports},5293:(t,e,a)=>{var r=a(82577);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(45346).Z)("26623984",r,!0,{})},76417:t=>{"use strict";t.exports=require("crypto")},58933:t=>{"use strict";t.exports=require("electron")},28614:t=>{"use strict";t.exports=require("events")},35747:t=>{"use strict";t.exports=require("fs")},12087:t=>{"use strict";t.exports=require("os")},85622:t=>{"use strict";t.exports=require("path")},87525:t=>{"use strict";t.exports=require("posthtml")},71191:t=>{"use strict";t.exports=require("querystring")},31669:t=>{"use strict";t.exports=require("util")}},t=>{"use strict";t.O(0,[8592,5586,4736,2872,5933],(()=>{return e=23973,t(t.s=e);var e}));var e=t.O();module.exports=e}]);