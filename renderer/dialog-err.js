(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[494],{28887:(t,e,r)=>{"use strict";var o=r(95318);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var s=o(r(59713)),i=r(20629),a=r(48932),n=r(53305),u=r(24092),c=o(r(7322)),l=r(62183);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const h=a.WINDOW_SETTINGS["dialog-err"];var b={mixins:[c.default],data:()=>({iconImageURL:(0,n.toURL)("static/images/error-dialog-icon.svg")}),mounted(){this.autoExpand&&this.expandDialog()},computed:p(p({},(0,i.mapState)("dialog-err",["message","stack","code","title","isCustomError","autoExpand","expansionHeight"])),{},{errorTitle(){return this.title?this.title:(this.code,this.$T("Whoops!"))},errorDesc(){switch(this.code){case l.ERROR.NO_HWFP:return this.$T("Maybe your machine could not be activated by entering license. Please send feedback to us.");case l.ERROR.MERGE_FAILED:return this.$T("There may be several reasons such as corrupted/encrypted files.");default:return this.$T("Sorry, something went wrong. But don't worry, it's not your fault. Please send feedback to help us solve this problem.")}},errorDetails(){let t=(0,u.getOSInfo)(),e=[t.platform,t.arch,t.release].join(",");return this.isCustomError?this.message:`${e}:\n--------------------------------------------------\n${this.stack||this.message}`},touchBarItems(){return[{type:"space",size:"flexible"},{type:"button",label:this.isCustomError?this.$T("OK"):this.$T("Cancel"),click:"close"},!this.isCustomError&&{type:"button",label:this.$T("Send to XMind"),backgroundColor:"primary",click:"sendFeedback"},{type:"space",size:"flexible"}].filter(Boolean)}}),methods:{expandDialog(){const t=void 0===this.expansionHeight?l.DEFAULT_EXPANSION_HEIGHT:this.expansionHeight;window.resizeTo(h.width,h.height+t)},shrinkDialog(){window.resizeTo(h.width,h.height)},cancel(){window.close()},sendFeedback(){this.$store.handleCommand("feedback",{query:{isSendDiagnostic:!0}})}}};e.Z=b},7322:(t,e,r)=>{"use strict";var o=r(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(59713)),i=r(48932),a=r(99492),n=r(36414),u=o(r(24678));function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={computed:{},watch:{touchBarItems(t){this.updateTouchBarItems(t)}},methods:{updateTouchBarItems(t){const e=t=>{const e=t.click;let r=this._touchBarRoutes[e];return r||(r={method:e,endpoint:(0,a.WINDOW_CALLBACK)(window.id,(0,n.hyphenate)(e))},this._touchBarRoutes[e]=r),r.unroute||(r.unroute=u.default.route(r.endpoint,this[e])),Object.assign({},t,{click:r.endpoint})};t=(t||this.touchBarItems||[]).map((t=>("button"!==t.type||"string"!=typeof t.click||i.WINDOW_ACTIONS.includes(t.click)||t.click.startsWith("command:")?"buttons"===t.type&&(t=l(l({},t),{},{buttons:t.buttons.map((t=>"string"!=typeof t.click||i.WINDOW_ACTIONS.includes(t.click)||t.click.startsWith("command:")?t:e(t)))})):t=e(t),t))),this.$store.commit("window/updateTouchBarItems",{items:t})}},beforeCreate(){this._touchBarRoutes={}},mounted(){this.updateTouchBarItems()},beforeDestroy(){Object.values(this._touchBarRoutes).forEach((({unroute:t})=>t&&t())),this._touchBarRoutes={}}};e.default=d},62183:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR=e.DEFAULT_EXPANSION_HEIGHT=void 0;e.DEFAULT_EXPANSION_HEIGHT=180;e.ERROR={NO_HWFP:"no-hwfp",MERGE_FAILED:"mergeFailed"}},87355:(t,e,r)=>{"use strict";var o=r(95318),s=o(r(2872)),i=o(r(87252));(0,s.default)(i.default,{name:"dialog-err"})},24092:(t,e,r)=>{"use strict";var o=r(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatform=function(){return process.platform},e.getOSInfo=function(){return{platform:s.default.platform(),arch:s.default.arch(),release:s.default.release()}},e.openExternal=function(t){i.remote.shell.openExternal(t).catch((t=>{n.default.fetch(a.WINDOW_OPEN,{name:"dialog-problem",payload:{name:"OpenError",message:t.message||t,stack:t.stack,code:"OPEN_LINK"}})}))},e.copyToClipboard=function(t){i.clipboard.writeText(t)};var s=o(r(12087)),i=r(58933),a=r(99492),n=o(r(24678))},87252:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__esModule:()=>o.X,default:()=>s});var o=r(28887);const s=(0,r(62236).Z)(o.Z,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"uk-window uk-window-dialog",attrs:{id:"app"}},[r("div",{staticClass:"uk-window-title-bar"},[t.isCustomError?t._e():r("div",{staticClass:"uk-window-title"},[t._v("\n      "+t._s(t.$T("Send Error to XMind"))+"\n    ")]),t._v(" "),r("window-control-button-group")],1),t._v(" "),r("div",{staticClass:"uk-window-body uk-padding uk-flex uk-flex-column uk-overflow-hidden"},[r("div",{staticClass:"uk-flex uk-flex-top uk-margin"},[r("div",{staticStyle:{width:"88px",height:"88px","background-position":"100% 100%"},attrs:{"data-src":t.iconImageURL,"uk-img":""}}),t._v(" "),r("div",{staticClass:"uk-width-expand uk-margin-left"},[r("h1",[t._v(t._s(t.errorTitle))]),t._v(" "),r("p",[t._v(t._s(t.errorDesc))])])]),t._v(" "),r("div",{staticClass:"uk-panel uk-height-expand error-details-toggle-group",attrs:{hidden:!t.autoExpand}},[r("pre",{staticClass:"uk-panel-scrollable uk-height-1-1",staticStyle:{"user-select":"text"}},[t._v(t._s(t.errorDetails))])])]),t._v(" "),r("div",{staticClass:"uk-window-button-bar"},[t.isCustomError?r("div",{staticClass:"uk-button-group"},[r("button",{staticClass:"uk-button uk-button-primary",on:{click:t.cancel}},[t._v("\n        "+t._s(t.$T("OK"))+"\n      ")])]):r("div",{staticClass:"uk-button-group"},[r("button",{staticClass:"uk-button uk-button-primary",on:{click:t.sendFeedback}},[t._v("\n        "+t._s(t.$T("Send to XMind"))+"\n      ")]),t._v(" "),r("button",{staticClass:"uk-button uk-button-default",on:{click:t.cancel}},[t._v("\n        "+t._s(t.$T("Cancel"))+"\n      ")])]),t._v(" "),t.autoExpand?t._e():r("div",[r("button",{staticClass:"uk-button uk-button-default error-details-toggle-group",attrs:{type:"button","uk-toggle":"target: .error-details-toggle-group",autofocus:""},on:{click:t.expandDialog}},[t._v("\n        "+t._s(t.$T("Error Code"))+"\n      ")]),t._v(" "),r("button",{staticClass:"uk-button uk-button-default error-details-toggle-group",attrs:{type:"button","uk-toggle":"target: .error-details-toggle-group",hidden:""},on:{click:t.shrinkDialog}},[t._v("\n        "+t._s(t.$T("Hide Error Code"))+"\n      ")])])])])}),[],!1,null,null,null).exports},76417:t=>{"use strict";t.exports=require("crypto")},58933:t=>{"use strict";t.exports=require("electron")},28614:t=>{"use strict";t.exports=require("events")},35747:t=>{"use strict";t.exports=require("fs")},12087:t=>{"use strict";t.exports=require("os")},85622:t=>{"use strict";t.exports=require("path")},87525:t=>{"use strict";t.exports=require("posthtml")},71191:t=>{"use strict";t.exports=require("querystring")},31669:t=>{"use strict";t.exports=require("util")}},t=>{"use strict";t.O(0,[8592,5586,4736,2872],(()=>{return e=87355,t(t.s=e);var e}));var e=t.O();module.exports=e}]);