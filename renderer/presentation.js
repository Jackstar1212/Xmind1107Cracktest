(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[7849],{75701:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=o(n(71191)),r=o(n(24678)),s=n(99492),a=n(32118),d={data:()=>({winId:0,mainId:0,editorId:0,showCursor:!1}),created(){this.winId=window.id;const e=i.default.parse(window.location.search.slice(1));e.mainid&&(this.mainId=parseInt(e.mainid)),e.editorid&&(this.editorId=e.editorid);const t=r.default.route(s.PITCH_MODE.SUB_COMMAND(this.winId),(e=>{if(this.presentationView)switch(e.command){case"performTransition":return this.presentationView.performTransition(e.payload);case"performStateChange":return this.presentationView.performStateChange(e.payload.state,e.payload.animationOptions);case"preloadTransition":return this.presentationView.preloadTransition(e.payload);case"presentEndingscreen":return this.presentationView.presentEndingScreen(e.payload.content,e.payload.slideSize);case"dismissEndingscreen":return this.presentationView.dismissEndingScreen(e.payload)}}));window.addEventListener("beforeunload",(()=>{t(),r.default.fetch(s.PITCH_MODE.SUB_EVENT(this.mainId,this.editorId),{event:"windowClose",payload:{}})})),window.addEventListener("mousedown",this.onMouseDown,{capture:!0}),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("wheel",this.onWheel)},beforeDestroy(){window.removeEventListener("mousedown",this.onMouseDown,{capture:!0}),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("wheel",this.onWheel)},mounted(){const e=()=>{r.default.fetch(s.PITCH_MODE.CONNECT_MAIN(this.mainId,this.editorId),this.winId).then((({initialSlide:e})=>{this.presentationView=new a.PresentationView({initialSlide:e}),this.presentationView.allowsActivatingPresenterPerspectiveModeViaPointerMovement=!0,this.presentationView.allowsRenderingPresenterPerspectiveMode=!1;const t=this.presentationView.el;t.style.left="0",t.style.top="0",t.style.width="100%",t.style.height="100%",this.$el.appendChild(t),this.presentationView.update(),this.presentationView.connect(),this.presentationView.delegate=this}))},t=n(58933).remote,o=t.screen,i=t.getCurrentWindow(),d=i.getBounds(),u=o.getDisplayMatching(d);let l=0;!function t(){const n=i.getBounds();if(l<10&&(n.width!==u.bounds.width||n.height!==u.bounds.height))return 0===l&&i.setSize(u.bounds.width,u.bounds.height,!1),l+=1,void setTimeout(t,100);e()}()},methods:{presenterDidReceivePointerInteraction(e,t){r.default.fetch(s.PITCH_MODE.SUB_EVENT(this.mainId,this.editorId),{event:"requestPointerInteraction",payload:{windowId:this.winId,interaction:t}})},onMouseEnter(){r.default.fetch(s.PITCH_MODE.SUB_EVENT(this.mainId,this.editorId),{event:"mouseEvent",payload:{windowId:this.winId,key:"enter"}})},onMouseDown(){this.$el.focus()},onMouseMove(){this.showCursor=!0,this.autoHideCursor()},autoHideCursor(){this.hideCursorTO&&clearTimeout(this.hideCursorTO),this.hideCursorTO=setTimeout((()=>{this.showCursor=!1}),1e3)},onKeyDown(e){r.default.fetch(s.PITCH_MODE.SUB_EVENT(this.mainId,this.editorId),{event:"keyEvent",payload:{windowId:this.winId,key:e.key,modifiers:{altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey}}})},onWheel(e){r.default.fetch(s.PITCH_MODE.SUB_EVENT(this.mainId,this.editorId),{event:"wheelEvent",payload:{windowId:this.winId,scrollDelta:e.deltaY}})}}};t.Z=d},1213:(e,t,n)=>{"use strict";var o=n(95318),i=o(n(2872)),r=o(n(16641)),s=o(n(60379)),a=o(n(20801));(0,i.default)(a.default,{name:"presentation",storeModules:{fonts:s.default},storePlugins:[(0,r.default)()]})},60379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(99492),i=n(24678);let r;var s={namespaced:!0,state:{loaded:!1},mutations:{markLoaded:e=>{e.loaded=!0}},actions:{getLoadedFonts:()=>(r||(r=(0,i.fetch)(o.GET_ALL_FONTS)),r)}};t.default=s},16641:(e,t,n)=>{"use strict";var o=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(59713)),r=n(78835),s=o(n(98756)),a=n(53305);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l="static/fonts/fonts.json";t.default=()=>e=>{(async function(){let e=await(0,a.load)(l),t=JSON.parse(e),n=[];const o=(0,a.toURL)(l);for(let e in t){let i=t[e];for(let{src:t,weight:s,italic:a}of i){let i=new r.URL(t,o).toString(),d=new FontFace(e,`url("${i}")`,u({weight:s},a?{style:"italic"}:{}));document.fonts.add(d),d.load(),n.push(d.loaded)}}await Promise.all(n)})().then((()=>{e.commit("fonts/markLoaded")})).catch((e=>{throw(0,s.default)(new Error("Failed to load CSS fonts"),e)})),document.fonts.onloadingdone=()=>{e.commit("fonts/markLoaded")},document.fonts.onloadingerror=()=>{e.commit("fonts/markLoaded")}}},10953:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n(94015),i=n.n(o),r=n(23645),s=n.n(r)()(i());s.push([e.id,"\nbody,\n#app {\n  background: black;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n.nocursor {\n  cursor: none;\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/presentation/app.vue"],names:[],mappings:";AACA;;EAEE,iBAAiB;EACjB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,UAAU;EACV,SAAS;EACT,gBAAgB;AAClB;AACA;EACE,YAAY;AACd",sourcesContent:["\nbody,\n#app {\n  background: black;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n.nocursor {\n  cursor: none;\n}\n"],sourceRoot:""}]);const a=s},20801:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>o.X,default:()=>r});var o=n(75701);var i=function(e){n(2008)};const r=(0,n(62236).Z)(o.Z,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:{nocursor:!e.showCursor},attrs:{id:"app",tabindex:"-1"},on:{mouseenter:e.onMouseEnter}})}),[],!1,i,null,null).exports},2008:(e,t,n)=>{var o=n(10953);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,n(45346).Z)("20da48a6",o,!0,{})},76417:e=>{"use strict";e.exports=require("crypto")},58933:e=>{"use strict";e.exports=require("electron")},28614:e=>{"use strict";e.exports=require("events")},35747:e=>{"use strict";e.exports=require("fs")},12087:e=>{"use strict";e.exports=require("os")},85622:e=>{"use strict";e.exports=require("path")},87525:e=>{"use strict";e.exports=require("posthtml")},71191:e=>{"use strict";e.exports=require("querystring")},78835:e=>{"use strict";e.exports=require("url")},31669:e=>{"use strict";e.exports=require("util")}},e=>{"use strict";e.O(0,[8592,5586,4736,2872],(()=>{return t=1213,e(e.s=t);var t}));var t=e.O();module.exports=t}]);