(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[3886],{52926:(e,t,r)=>{"use strict";var n=r(95318);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var s=n(r(59713)),o=r(20629),a=n(r(71191)),i=r(90336),d=r(83450),p=r(48932);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l={xlsx:"Xlsx",powerpoint:"Ppt",markdown:"Markdown",opml:"OPML",pdf:"PDF",textBundle:"Textbundle",docx:"Docx",xmind:"XMind",png:"PNG"},g=a.default.parse(location.search.slice(1));var A={data:()=>({type:g.type,desc:""}),beforeCreate(){this.startTime=Date.now();let e=!1;window.addEventListener("beforeunload",(t=>{if(!e){t.preventDefault(),t.returnValue=!1,e=!0;const r=p.PROGRESS_WINDOW_MIN_DURATION-(Date.now()-this.startTime);setTimeout((()=>{window.close()}),r)}}))},created(){this.typeIcon=this.$toResourceURL(`static/images/progress-type-icon/${l[this.type]}.svg`),(0,d.trackEvent)({eventCategory:"WorkBench",eventAction:"showProgress",eventName:this.type})},computed:u(u({},(0,o.mapState)(i.SHARED,["saving","exporting","mergingCount"])),{},{config(){const e={xmind:{showWindowControlButtonGroup:!0,showPreserveIcon:!0,progressContainerClass:"common-progress",useIndeterBar:!1,mountedHandlerType:"default",text:this.$T("Saving File")},merging:{showWindowControlButtonGroup:!0,showPreserveIcon:!1,progressContainerClass:"merging-progress",useIndeterBar:!1,mountedHandlerType:"merging",text:this.$T("Merging")},"create-theme":{showWindowControlButtonGroup:!1,showPreserveIcon:!1,progressContainerClass:"merging-progress",useIndeterBar:!0,mountedHandlerType:"nothing",text:this.$T("Extracting Theme")},"loading-theme":{showWindowControlButtonGroup:!1,showPreserveIcon:!1,progressContainerClass:"merging-progress",useIndeterBar:!0,mountedHandlerType:"nothing",text:this.$T("Loading Theme")},default:{showWindowControlButtonGroup:!0,showPreserveIcon:!0,progressContainerClass:"common-progress",useIndeterBar:!1,mountedHandlerType:"default",text:this.$T("Exporting")}};return e[this.type]||e.default}}),watch:{saving(e){e||this.completed()},exporting(e){if(!e){const e=p.PROGRESS_WINDOW_MIN_DURATION-(Date.now()-this.startTime);e>0?setTimeout((()=>{this.completed()}),e-200):this.completed()}},mergingCount(e){this.updateMergingProgress(e)}},mounted(){switch(this.config.mountedHandlerType){case"merging":this.mergingCount===g.fileTotalCount?(this.execFakeProgress(),this.completed()):this.updateMergingProgress(this.mergingCount);break;case"nothing":break;default:this.execFakeProgress(),this.saving||this.exporting||this.completed()}document.addEventListener("keydown",(e=>{27===e.keyCode&&(e.preventDefault(),e.stopPropagation())}))},methods:{completed(){const e=this.$refs.progress;e&&(e.value=100)},execFakeProgress(){const e=this.$refs.progress;if(e){let t=null;t=setInterval((()=>{e.value+=Math.random(),e.value>=95&&clearInterval(t)}),300)}},updateMergingProgress(e){this.$refs.progress.value=100*(e/g.fileTotalCount).toFixed(2),this.desc=`${e} / ${g.fileTotalCount}`}}};t.Z=A},5350:(e,t,r)=>{"use strict";var n=r(95318),s=n(r(59713)),o=n(r(2872)),a=r(90336),i=n(r(71191)),d=n(r(46784)),p=n(r(35746)),c=r(58933);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g=i.default.parse(location.search.slice(1));!async function(){await(0,o.default)(d.default,{name:"dialog-process",storeModules:{[a.SHARED]:l(l({},p.default),{},{remoteNamespace:(0,a.EDITOR_SHARED_WITH_ID)(g.editorId)})}}),c.ipcRenderer.send("renderer-js-load")}()},27384:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(94015),s=r.n(n),o=r(23645),a=r.n(o)()(s());a.push([e.id,"\nprogress[value][data-v-2fb44a0c]::-webkit-progress-bar {\n  background-color: #d8d8d8;\n  border-radius: 5px;\n}\nprogress[value][data-v-2fb44a0c]::-webkit-progress-value {\n  border-radius: 5px;\n}\nprogress[value][data-v-2fb44a0c] {\n  border-radius: 5px;\n  height: 6px;\n}\n.merging-progress[data-v-2fb44a0c] {\n  margin: 0 24px;\n}\n.common-progress[data-v-2fb44a0c] {\n  margin-right: 24px;\n  padding-top: 18px;\n}\n.checking-bar[data-v-2fb44a0c] {\n  margin: 10px 0;\n  width: 100%;\n  max-width: 500px;\n  height: 8px;\n  border-radius: 4px;\n}\n@keyframes indeterminate-data-v-2fb44a0c {\n0% {\n    transform: translateX(-100px);\n}\n100% {\n    transform: translateX(500px);\n}\n}\n.progress-custom-parent[data-v-2fb44a0c] {\n  overflow: hidden;\n  position: relative;\n}\n.ui-mprogress[data-v-2fb44a0c] {\n  pointer-events: none;\n}\n.indeter-bar[data-v-2fb44a0c] {\n  position: absolute;\n  z-index: 1032;\n  top: 0;\n  left: 0;\n  width: 100px;\n  height: 8px;\n  border-radius: 4px;\n  background: #039be5;\n  animation: indeterminate-data-v-2fb44a0c 1800ms infinite ease-in;\n}\n.bar-bg[data-v-2fb44a0c] {\n  position: absolute;\n  z-index: 1031;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/dialog-progress/app.vue"],names:[],mappings:";AACA;EACE,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,WAAW;AACb;AACA;EACE,cAAc;AAChB;AACA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;AACA;EACE,cAAc;EACd,WAAW;EACX,gBAAgB;EAChB,WAAW;EACX,kBAAkB;AACpB;AACA;AACA;IACI,6BAA6B;AACjC;AACA;IACI,4BAA4B;AAChC;AACA;AACA;EACE,gBAAgB;EAChB,kBAAkB;AACpB;AACA;EACE,oBAAoB;AACtB;AACA;EACE,kBAAkB;EAClB,aAAa;EACb,MAAM;EACN,OAAO;EACP,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;EACnB,gEAAgE;AAClE;AACA;EACE,kBAAkB;EAClB,aAAa;EACb,MAAM;EACN,OAAO;EACP,WAAW;EACX,WAAW;EACX,oCAAoC;EACpC,kBAAkB;AACpB",sourcesContent:["\nprogress[value][data-v-2fb44a0c]::-webkit-progress-bar {\n  background-color: #d8d8d8;\n  border-radius: 5px;\n}\nprogress[value][data-v-2fb44a0c]::-webkit-progress-value {\n  border-radius: 5px;\n}\nprogress[value][data-v-2fb44a0c] {\n  border-radius: 5px;\n  height: 6px;\n}\n.merging-progress[data-v-2fb44a0c] {\n  margin: 0 24px;\n}\n.common-progress[data-v-2fb44a0c] {\n  margin-right: 24px;\n  padding-top: 18px;\n}\n.checking-bar[data-v-2fb44a0c] {\n  margin: 10px 0;\n  width: 100%;\n  max-width: 500px;\n  height: 8px;\n  border-radius: 4px;\n}\n@keyframes indeterminate-data-v-2fb44a0c {\n0% {\n    transform: translateX(-100px);\n}\n100% {\n    transform: translateX(500px);\n}\n}\n.progress-custom-parent[data-v-2fb44a0c] {\n  overflow: hidden;\n  position: relative;\n}\n.ui-mprogress[data-v-2fb44a0c] {\n  pointer-events: none;\n}\n.indeter-bar[data-v-2fb44a0c] {\n  position: absolute;\n  z-index: 1032;\n  top: 0;\n  left: 0;\n  width: 100px;\n  height: 8px;\n  border-radius: 4px;\n  background: #039be5;\n  animation: indeterminate-data-v-2fb44a0c 1800ms infinite ease-in;\n}\n.bar-bg[data-v-2fb44a0c] {\n  position: absolute;\n  z-index: 1031;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n}\n"],sourceRoot:""}]);const i=a},46784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__esModule:()=>n.X,default:()=>o});var n=r(52926);var s=function(e){r(27185)};const o=(0,r(62236).Z)(n.Z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"uk-window uk-window-dialog uk-window-default",attrs:{id:"app"}},[r("div",{staticClass:"uk-window-title-bar uk-window-title-bar-floating"},[e.config.showWindowControlButtonGroup?r("window-control-button-group"):e._e()],1),e._v(" "),r("div",{staticClass:"uk-window-body uk-flex uk-flex-row"},[e.config.showPreserveIcon?r("div",{staticClass:"uk-background-cover uk-flex uk-flex-center uk-flex-column uk-flex-middle",staticStyle:{width:"99px"}},[r("div",{staticClass:"uk-preserve",staticStyle:{width:"60.6px",height:"68px","padding-left":"3px","margin-top":"-2px"},attrs:{"data-src":e.typeIcon,"uk-svg":""}})]):e._e(),e._v(" "),r("div",{class:e.config.progressContainerClass+" uk-panel uk-padding-large uk-flex uk-flex-column uk-width-expand uk-padding-remove-horizontal"},[r("div",{staticClass:"uk-height-expand"},[r("h4",{staticClass:"uk-text-bold",staticStyle:{"margin-top":"12px","margin-bottom":"8px","font-size":"13px"}},[e._v("\n          "+e._s(e.config.text)+" "+e._s(e.$T("..."))+" "+e._s(e.desc)+"\n        ")]),e._v(" "),e.config.useIndeterBar?r("div",{staticClass:"checking-bar progress-custom-parent"},[e._m(0)]):r("div",{staticClass:"uk-margin-small"},[r("progress",{ref:"progress",staticClass:"uk-margin-remove uk-progress",attrs:{value:"0",max:"100"}})])])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-progress"},[r("div",{staticClass:"indeter-bar"}),e._v(" "),r("div",{staticClass:"bar-bg uk-background-default"})])}],!1,s,"data-v-2fb44a0c",null).exports},27185:(e,t,r)=>{var n=r(27384);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,r(45346).Z)("92b29824",n,!0,{})},76417:e=>{"use strict";e.exports=require("crypto")},58933:e=>{"use strict";e.exports=require("electron")},28614:e=>{"use strict";e.exports=require("events")},35747:e=>{"use strict";e.exports=require("fs")},12087:e=>{"use strict";e.exports=require("os")},85622:e=>{"use strict";e.exports=require("path")},87525:e=>{"use strict";e.exports=require("posthtml")},71191:e=>{"use strict";e.exports=require("querystring")},31669:e=>{"use strict";e.exports=require("util")}},e=>{"use strict";e.O(0,[8592,5586,4736,2872],(()=>{return t=5350,e(e.s=t);var t}));var t=e.O();module.exports=t}]);