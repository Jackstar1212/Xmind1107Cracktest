(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[8606],{32496:(e,t,n)=>{"use strict";var i=n(95318);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var s=i(n(20144)),o=n(32118),r=n(83450),a=n(96486),d=n(36414),c=n(58933),l=i(n(50608)),u=s.default.extend({data:()=>({startFromBeginning:!0,myPerspectiveMode:void 0,showSnackbar:!1,debouncedSnackbarToast:null,isDarkTheme:!0,animationEnabled:!0,settingPopoverId:`popover_${(0,d.UUID)()}`,isSubScreensEnabled:!1,indicatorHovered:!1,isWindowFullScreen:!1,win:null,isShortcutsListEnabled:!1,initialSlide:null,alwaysShowCursor:!1,aspectRatioOptions:[],currentAspectRatio:null}),components:{Shortcuts:l.default},computed:{modeData(){return[{key:"dark",image:this.$toResourceURL("static/images/pitchmode/dark.svg"),activeImage:this.$toResourceURL("static/images/pitchmode/dark-active.svg"),tooltip:this.$T("Use a dark appearance."),isActive:this.isDarkTheme},{key:"light",image:this.$toResourceURL("static/images/pitchmode/light.svg"),activeImage:this.$toResourceURL("static/images/pitchmode/light-active.svg"),tooltip:this.$T("Use a light appearance."),isActive:!this.isDarkTheme}]},hideIndicatorBar(){return!this.isSubScreensEnabled&&(!this.myPerspectiveMode&&!this.indicatorHovered)}},watch:{animationEnabled(e){this.$emit("enableAnimation",e)}},created(){this.debouncedSnackbarToast=(0,a.debounce)(this.snackbarToast,1500),this.win=c.remote.getCurrentWindow()},mounted(){const e=new o.PresentationView({initialSlide:this.initialSlide});e.allowsActivatingPresenterPerspectiveModeViaPointerMovement=!0,e.el.style.left="0",e.el.style.top="0",e.el.style.width="100%",e.el.style.height="100%",this.presentationView=e,this.$el.appendChild(e.el),e.update(),e.connect(),this.showSnackbar=!this.startFromBeginning,this.showSnackbar&&this.debouncedSnackbarToast(),this.win&&(this.win.on("enter-full-screen",this.onEnterFullScreen),this.win.on("leave-full-screen",this.onLeaveFullScreen)),setTimeout((()=>{(0,r.trackEvent)({eventCategory:"PitchMode",eventAction:"pitchModeLoaded"})}),1500)},beforeDestroy(){this.beforeViewDestroy()},methods:{onEnterFullScreen(){this.isWindowFullScreen=!0,this.presentationView.update()},onLeaveFullScreen(){this.isWindowFullScreen=!1,this.presentationView.update()},beforeViewDestroy(){this.win&&(this.win.removeListener("enter-full-screen",this.onEnterFullScreen),this.win.removeListener("leave-full-screen",this.onLeaveFullScreen))},snackbarToast(){this.$withUIKit((e=>{e.toast.clearAll(),e.toast({container:this.$refs.myperspectiveConatiner,message:`\n          <div class="uk-flex">\n          <span class="uk-text-nowrap" style="margin-right:30px;">${this.$T("Play from the first slide?")}</span>\n          <span\n            class="myperspective-snackbar-btn uk-button uk-button-text snackbar-go-btn uk-text-nowrap"\n          >\n            ${this.$T("Go")}\n          </span>\n          <span\n            class="myperspective-snackbar-btn uk-button uk-button-text uk-text-nowrap"\n          >\n            ${this.$T("Dismiss")}\n          </span>\n          </div>`,pos:"bottom-center",timeout:4e3,style:{marginBottom:"40px"},onclose:()=>{this.showSnackbar=!1}}),setTimeout((()=>{const e=document.querySelector(".snackbar-go-btn");e&&e.addEventListener("click",(()=>this.gotoBeginning()))}),10)}))},start(){this.$el.style.display="block",this.presentationView.update()},showSnackbarIfNeeded(){this.showSnackbar&&setTimeout((()=>{this.showSnackbar=!1}),4e3)},gotoBeginning(){this.showSnackbar=!1,this.$emit("gotoBeginning")},setNightMode(e){(0,r.trackEvent)({eventCategory:"PitchMode",eventAction:"clickPitchModeAppearance"}),this.isDarkTheme=e,this.$emit("toggleTheme",e?"default":"light")},onChangeRatio(e){this.currentAspectRatio=e,this.$emit("changeRatio",e)},getRatioLabel(e){return"Auto"===e?this.$T("AUTO"):e},hideSettingsPopover(){this.$withUIKit((e=>{const t=e.pop(this.$refs.settingsPopover);t&&t.hide()}))},toggleSettingsPopover(){this.$withUIKit((e=>{const t=e.pop(this.$refs.settingsPopover);t&&(t.isActive()?t.hide():t.show())}))},onMouseEnter(){this.$emit("mouseEntered",window.id)}}});t.Z=u},62990:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(94015),s=n.n(i),o=n(23645),r=n.n(o)()(s());r.push([e.id,"\n.shortcuts[data-v-53b66bb2] {\n  min-width: 368px;\n  min-height: 312px;\n  box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n}\n.shortcuts ul[data-v-53b66bb2] {\n  list-style: none;\n  padding: 24px;\n}\n.shortcuts ul li[data-v-53b66bb2]:not(:first-child) {\n  margin-top: 9px;\n}\n.shortcuts span[data-v-53b66bb2] {\n  user-select: none;\n}\n.key-block[data-v-53b66bb2] {\n  display: inline-block;\n  height: 25px;\n  line-height: 25px;\n  text-align: center;\n  min-width: 25px;\n  padding-left: 4px;\n  padding-right: 4px;\n  border-radius: 4px;\n  background-color: #f6f5f5;\n  color: #949494;\n}\n.dark-appearance .key-block[data-v-53b66bb2] {\n  background-color: #494a4b;\n  color: #ffffff;\n}\n.key-operator[data-v-53b66bb2] {\n  line-height: 25px;\n  width: 10px;\n  text-align: center;\n  display: inline-block;\n  color: #949494;\n  opacity: 0.5;\n}\n.dark-appearance .key-operator[data-v-53b66bb2] {\n  color: #ffffff;\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/editor/pitchmode/view/shortcuts-list.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,2CAA2C;EAC3C,kBAAkB;AACpB;AACA;EACE,gBAAgB;EAChB,aAAa;AACf;AACA;EACE,eAAe;AACjB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,qBAAqB;EACrB,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;EAClB,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB,kBAAkB;EAClB,yBAAyB;EACzB,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,cAAc;AAChB;AACA;EACE,iBAAiB;EACjB,WAAW;EACX,kBAAkB;EAClB,qBAAqB;EACrB,cAAc;EACd,YAAY;AACd;AACA;EACE,cAAc;AAChB",sourcesContent:["\n.shortcuts[data-v-53b66bb2] {\n  min-width: 368px;\n  min-height: 312px;\n  box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n  border-radius: 6px;\n}\n.shortcuts ul[data-v-53b66bb2] {\n  list-style: none;\n  padding: 24px;\n}\n.shortcuts ul li[data-v-53b66bb2]:not(:first-child) {\n  margin-top: 9px;\n}\n.shortcuts span[data-v-53b66bb2] {\n  user-select: none;\n}\n.key-block[data-v-53b66bb2] {\n  display: inline-block;\n  height: 25px;\n  line-height: 25px;\n  text-align: center;\n  min-width: 25px;\n  padding-left: 4px;\n  padding-right: 4px;\n  border-radius: 4px;\n  background-color: #f6f5f5;\n  color: #949494;\n}\n.dark-appearance .key-block[data-v-53b66bb2] {\n  background-color: #494a4b;\n  color: #ffffff;\n}\n.key-operator[data-v-53b66bb2] {\n  line-height: 25px;\n  width: 10px;\n  text-align: center;\n  display: inline-block;\n  color: #949494;\n  opacity: 0.5;\n}\n.dark-appearance .key-operator[data-v-53b66bb2] {\n  color: #ffffff;\n}\n"],sourceRoot:""}]);const a=r},3579:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(94015),s=n.n(i),o=n(23645),r=n.n(o)()(s());r.push([e.id,"\n@keyframes TopBarEnterAnimate-data-v-64c8759a {\n0% {\n    opacity: 1;\n}\n85% {\n    opacity: 1;\n}\n100% {\n    opacity: 0.15;\n}\n}\n.myperspective-wrapper .zen-mode-top-bar[data-v-64c8759a] {\n  transition: 0.5s ease-in-out;\n  opacity: 0.15;\n  animation: TopBarEnterAnimate-data-v-64c8759a 3.5s ease-out;\n}\n.myperspective-wrapper .zen-mode-top-bar[data-v-64c8759a]:hover {\n  opacity: 1;\n}\n.myperspective-wrapper .zen-mode-top-bar.hidden[data-v-64c8759a] {\n  visibility: hidden;\n}\n.myperspective-wrapper[data-v-64c8759a] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: none;\n}\n.myperspective-wrapper.nocursor[data-v-64c8759a] {\n  cursor: none;\n}\n.myperspective-toolbar[data-v-64c8759a] {\n  position: absolute;\n  top: 30px;\n  right: 30px;\n  z-index: 10;\n  height: 26px;\n  user-select: none;\n  -webkit-user-select: none;\n}\n@media screen and (max-width: 364px) {\n.myperspective-toolbar[data-v-64c8759a] {\n    right: unset;\n    left: 50%;\n    transform: translateX(-50%);\n}\n}\n.myperspective-snackbar[data-v-64c8759a] {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 100%);\n  background: white;\n  border-radius: 8px;\n  padding: 10px 20px;\n  z-index: 10;\n  color: #000;\n  cursor: default;\n}\n.myperspective-snackbar-btn[data-v-64c8759a] {\n  margin-left: 8px;\n  font-size: 13px;\n}\n.myperspective-snackbar.animate[data-v-64c8759a] {\n  transition: all 0.25s ease-in-out;\n}\n.myperspective-snackbar.visible[data-v-64c8759a] {\n  bottom: 40px;\n  transform: translate(-50%, 0);\n}\n.myperspective-toolbar-btn[data-v-64c8759a] {\n  background: white;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.08);\n  text-align: center;\n  color: #000;\n  line-height: 26px;\n  height: 26px;\n  float: left;\n  cursor: default;\n  font-size: 13px;\n  padding: 0;\n  width: 47px;\n  box-shadow: 0px 0.75px 1px rgba(0, 0, 0, 0.15), inset 0px 0px 0.5px rgba(0, 0, 0, 0.2);\n  border: none;\n  background-position: center;\n  background-repeat: no-repeat;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.myperspective-toolbar-btn.wide[data-v-64c8759a] {\n  width: auto;\n  padding: 0 16px;\n}\n.myperspective-toolbar-btn[data-v-64c8759a]:hover {\n  background-color: rgba(255, 255, 255, 0.95);\n}\n.myperspective-toolbar-btn.sep[data-v-64c8759a] {\n  border-right: 1px solid rgba(0, 0, 0, 0.05);\n}\n.shortcuts-list[data-v-64c8759a] {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n}\n.settings-label[data-v-64c8759a] {\n  min-width: 102px;\n  max-width: 120px;\n  font-weight: 500;\n  flex-shrink: 0;\n  padding-right: 5px;\n}\n.settings-content[data-v-64c8759a] {\n  width: 82px;\n  flex-shrink: 0;\n}\na[data-v-64c8759a] {\n  outline: none;\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/editor/pitchmode/view/my-perspective.vue"],names:[],mappings:";AACA;AACA;IACI,UAAU;AACd;AACA;IACI,UAAU;AACd;AACA;IACI,aAAa;AACjB;AACA;AACA;EACE,4BAA4B;EAC5B,aAAa;EACb,2DAA2D;AAC7D;AACA;EACE,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,QAAQ;EACR,SAAS;EACT,aAAa;AACf;AACA;EACE,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;AACA;IACI,YAAY;IACZ,SAAS;IACT,2BAA2B;AAC/B;AACA;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,SAAS;EACT,gCAAgC;EAChC,iBAAiB;EACjB,kBAAkB;EAClB,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,eAAe;AACjB;AACA;EACE,gBAAgB;EAChB,eAAe;AACjB;AACA;EACE,iCAAiC;AACnC;AACA;EACE,YAAY;EACZ,6BAA6B;AAC/B;AACA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,kBAAkB;EAClB,2CAA2C;EAC3C,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,YAAY;EACZ,WAAW;EACX,eAAe;EACf,eAAe;EACf,UAAU;EACV,WAAW;EACX,sFAAsF;EACtF,YAAY;EACZ,2BAA2B;EAC3B,4BAA4B;EAC5B,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,WAAW;EACX,eAAe;AACjB;AACA;EACE,2CAA2C;AAC7C;AACA;EACE,2CAA2C;AAC7C;AACA;EACE,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,WAAW;AACb;AACA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,cAAc;EACd,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,cAAc;AAChB;AACA;EACE,aAAa;AACf",sourcesContent:["\n@keyframes TopBarEnterAnimate-data-v-64c8759a {\n0% {\n    opacity: 1;\n}\n85% {\n    opacity: 1;\n}\n100% {\n    opacity: 0.15;\n}\n}\n.myperspective-wrapper .zen-mode-top-bar[data-v-64c8759a] {\n  transition: 0.5s ease-in-out;\n  opacity: 0.15;\n  animation: TopBarEnterAnimate-data-v-64c8759a 3.5s ease-out;\n}\n.myperspective-wrapper .zen-mode-top-bar[data-v-64c8759a]:hover {\n  opacity: 1;\n}\n.myperspective-wrapper .zen-mode-top-bar.hidden[data-v-64c8759a] {\n  visibility: hidden;\n}\n.myperspective-wrapper[data-v-64c8759a] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: none;\n}\n.myperspective-wrapper.nocursor[data-v-64c8759a] {\n  cursor: none;\n}\n.myperspective-toolbar[data-v-64c8759a] {\n  position: absolute;\n  top: 30px;\n  right: 30px;\n  z-index: 10;\n  height: 26px;\n  user-select: none;\n  -webkit-user-select: none;\n}\n@media screen and (max-width: 364px) {\n.myperspective-toolbar[data-v-64c8759a] {\n    right: unset;\n    left: 50%;\n    transform: translateX(-50%);\n}\n}\n.myperspective-snackbar[data-v-64c8759a] {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 100%);\n  background: white;\n  border-radius: 8px;\n  padding: 10px 20px;\n  z-index: 10;\n  color: #000;\n  cursor: default;\n}\n.myperspective-snackbar-btn[data-v-64c8759a] {\n  margin-left: 8px;\n  font-size: 13px;\n}\n.myperspective-snackbar.animate[data-v-64c8759a] {\n  transition: all 0.25s ease-in-out;\n}\n.myperspective-snackbar.visible[data-v-64c8759a] {\n  bottom: 40px;\n  transform: translate(-50%, 0);\n}\n.myperspective-toolbar-btn[data-v-64c8759a] {\n  background: white;\n  border: 1px solid #e8e8e8;\n  border-radius: 4px;\n  box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.08);\n  text-align: center;\n  color: #000;\n  line-height: 26px;\n  height: 26px;\n  float: left;\n  cursor: default;\n  font-size: 13px;\n  padding: 0;\n  width: 47px;\n  box-shadow: 0px 0.75px 1px rgba(0, 0, 0, 0.15), inset 0px 0px 0.5px rgba(0, 0, 0, 0.2);\n  border: none;\n  background-position: center;\n  background-repeat: no-repeat;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.myperspective-toolbar-btn.wide[data-v-64c8759a] {\n  width: auto;\n  padding: 0 16px;\n}\n.myperspective-toolbar-btn[data-v-64c8759a]:hover {\n  background-color: rgba(255, 255, 255, 0.95);\n}\n.myperspective-toolbar-btn.sep[data-v-64c8759a] {\n  border-right: 1px solid rgba(0, 0, 0, 0.05);\n}\n.shortcuts-list[data-v-64c8759a] {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n}\n.settings-label[data-v-64c8759a] {\n  min-width: 102px;\n  max-width: 120px;\n  font-weight: 500;\n  flex-shrink: 0;\n  padding-right: 5px;\n}\n.settings-content[data-v-64c8759a] {\n  width: 82px;\n  flex-shrink: 0;\n}\na[data-v-64c8759a] {\n  outline: none;\n}\n"],sourceRoot:""}]);const a=r},57250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(94015),s=n.n(i),o=n(23645),r=n.n(o)()(s());r.push([e.id,"\n.myperspective-snackbar-btn {\n  margin-right: 3px;\n}\n.myperspective-snackbar-btn:hover {\n  background: #eeeeee !important;\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/editor/pitchmode/view/my-perspective.vue"],names:[],mappings:";AACA;EACE,iBAAiB;AACnB;AACA;EACE,8BAA8B;AAChC",sourcesContent:["\n.myperspective-snackbar-btn {\n  margin-right: 3px;\n}\n.myperspective-snackbar-btn:hover {\n  background: #eeeeee !important;\n}\n"],sourceRoot:""}]);const a=r},32805:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(50840)),a={swipeleft:new r.default.Swipe({event:"swipeleft",pointers:1,direction:r.DIRECTION_LEFT,threshold:30}),swiperight:new r.default.Swipe({event:"swiperight",pointers:1,direction:r.DIRECTION_RIGHT,threshold:30}),pinch:new r.default.Pinch};t.default=class{constructor(e){this.manager=new r.default.Manager(e),this.manager.add(Object.values(a))}on(e,t){this.manager.on(e,t)}}},88606:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{d(i.next(e))}catch(e){o(e)}}function a(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PitchModeController=t.PitchModeWindowedController=t.computeWindowSize=t.getCurrentDisplay=void 0;const o=s(n(24678)),r=s(n(79914)),a=n(99492),d=n(90336),c=n(33276),l=s(n(55167)),u=s(n(61027)),h=n(32118),p=n(65831),A=s(n(4013)),m=s(n(58933)),g=s(n(96486)),f=n(83450),v=s(n(32805));function b(){const e=m.default.remote,t=e.screen,n=e.getCurrentWindow().getBounds();return t.getDisplayMatching(n)}function w(){const e=b();if(!e)return"16:9";const t=e.bounds,n=t.width/t.height;let i="16:9",s=1/0;for(const e of Object.keys(h.slideSizes)){if(!/\d+:\d+/.test(e))continue;const t=e.split(":").map((e=>Number(e))),o=Math.abs(t[0]/t[1]-n);o<s&&(s=o,i=e)}return i}function C(e){const t=e.split(":").map((e=>Number(e)));return t[0]/t[1]}function k(e){const t=b();if(!t)return{};const n=t.bounds,i=e=>e.width+80<n.width&&e.height+80<n.height;let s=C(w());const o={width:1280,height:Math.floor(1280/s),x:0,y:0,minWidth:360,minHeight:360};if(e!==p.AUTOMATIC_ASPECT_RATIO&&(s=C(e),o.height=Math.floor(o.width/s),s<1?o.minHeight=Math.floor(o.minWidth/s):o.minWidth=Math.floor(o.minHeight*s)),!i(o))for(const e of[960,640,360])if(o.width=e,o.height=Math.floor(e/s),i(o))break;return o.x=Math.floor(n.x+(n.width-o.width)/2),o.y=Math.floor(n.y+(n.height-o.height)/2),o}t.getCurrentDisplay=b,t.computeWindowSize=k;t.PitchModeWindowedController=class{constructor(e,t){this.onEditorViewClose=e=>{if(e===window.editorId){const e=m.default.remote.BrowserWindow.fromId(this.windowId);e&&e.close()}},f.trackEvent({eventCategory:"PitchMode",eventAction:"openPitchMode"}),this.contentProvider=new p.SheetSnapshotContentProvider(e),this.editorId=window.editorId,this.mainWindowId=window.id;const n=e.state.editor.sbEditorWrapper.value,i=n.model.sheets.find((e=>e.id===n.currentSheetId)),s=c.getFirstSelectedTopic(e),d=o.default.route(a.PITCH_MODE.CONNECT_MAIN(this.mainWindowId,this.editorId,t),(e=>e?(d(),void this.unload()):{providerData:this.contentProvider.serializeData(),startingTopicId:s!=i.attributes.rootTopic.id?s:null,isDarkTheme:"default"===this.contentProvider.preferredThemeId,animationEnabled:this.contentProvider.animationEnabled,aspectRatioOptions:this.contentProvider.aspectRatioOptions,currentAspectRatio:this.contentProvider.aspectRatio}));this.windowOpen(t),r.default.on("before-close-editor-view",this.onEditorViewClose)}windowOpen(e){return i(this,void 0,void 0,(function*(){this.contentProvider.endingScreenCached||(yield this.contentProvider.getEndingImage());const t=k(this.contentProvider.aspectRatio),n=yield o.default.fetch(a.WINDOW_OPEN,{name:"presentationwindowed",query:{mainid:this.mainWindowId,editorid:this.editorId,id:e},backgroundThrottling:!1,overrideSetting:Object.assign(Object.assign({},t),{center:!0,fullscreen:!1})});this.windowId=n.id}))}unload(){this.contentProvider=null,r.default.off("before-close-editor-view",this.onEditorViewClose)}};t.PitchModeController=class{constructor(e){this.store=e,this.subWindowsCreated=!1,this.subWindowIds=new Array,this.connectedSubWindowIds=new Set,this.listeners=[],this.startingTopicId=null,this.finished=!1,this._presentationViews=[],this.onPresentationFinished=()=>{if(this.store.commit(`${d.SHARED}/setPitchMode`,{mode:!1}),this.store.commit("contexts/updateMainContexts",{inPitchMode:!1}),this.finished)return;this.finished=!0;const e=this.slideshow.currentSlide,t=this.store.state.editor;let n="";t&&t.sbEditorWrapper&&(n=e?e.topicId:c.getCentralTopicId(this.store)||""),this.unload(),o.default.fetch(a.EDITOR_FULL_SCREEN,{fullscreen:!1,editorViewId:this.editorId,editorFrameId:this.editorFrameId,targetElementId:"PresentationMainWrapper"}),t.sbEditorWrapper.value.execAction(u.default.constant.ACTION_NAMES.CLEAR_SELECTION),setTimeout((()=>{n&&t.sbEditorWrapper.value.execAction(u.default.constant.ACTION_NAMES.SELECT,{id:n,isSingle:!0,prue:!0}),this.store.commit("editor/updateIgnoreResizeEditor",!1)}),100),this.closeSubWindows(),this.acquireFocus()},this.onEditorViewClose=e=>{e===window.editorId&&this.closeSubWindows()},this.onFullscreenChanged=()=>{document.fullscreenElement==this._el?(this.myPerspectiveView.start(),document.getElementById("app").style.display=""):document.fullscreenElement||this.onPresentationFinished()},this.handleScrollEvent=g.default.throttle((function(e){e>0?this.next():e<0&&this.prev()}),500,{leading:!0,trailing:!1}),f.trackEvent({eventCategory:"PitchMode",eventAction:"openPitchMode"}),this.editorId=window.editorId,this.mainWindowId=window.id;const t=e.state.editorOwnership.frameToEditor;for(const e in t)if(t[e]&&-1!==t[e].indexOf(this.editorId)){this.editorFrameId=e;break}const n=e.state.editor.sbEditorWrapper.value,i=n.model.sheets.find((e=>e.id===n.currentSheetId)),s=c.getFirstSelectedTopic(e);s&&s!=i.attributes.rootTopic.id&&(this.startingTopicId=s),this._el=document.createElement("div"),this._el.style.position="absolute",this._el.style.left="0",this._el.style.top="0",this._el.style.width="100%",this._el.style.height="100%",this._el.setAttribute("id","PresentationMainWrapper"),this._el.setAttribute("tabindex","-1"),document.body.insertBefore(this._el,document.body.firstChild),document.getElementById("app").style.display="none",this.contentProvider=new p.SheetSnapshotContentProvider(e);const A=this.contentProvider.aspectRatio,m=A===p.AUTOMATIC_ASPECT_RATIO?h.slideSizes[w()]:h.slideSizes[A];this.slideshow=new h.Slideshow({contentProvider:this.contentProvider,slideSize:m,slideTheme:this.contentProvider.preferredThemeId}),this.slideshow.mode="presenterPerspective";const b=new l.default({data:{startFromBeginning:!this.startingTopicId,isDarkTheme:"default"===this.contentProvider.preferredThemeId,myPerspectiveMode:!0,animationEnabled:this.contentProvider.animationEnabled,isSubScreensEnabled:!1,aspectRatioOptions:this.contentProvider.aspectRatioOptions,currentAspectRatio:this.contentProvider.aspectRatio},store:e});b.$mount(),this._el.appendChild(b.$el),this.myPerspectiveView=b,b.$on("exit",(()=>this.exit())),b.$on("next",(()=>this.next())),b.$on("prev",(()=>this.prev())),b.$on("gotoBeginning",(()=>{this.slideshow.present(null)})),b.$on("toggleTheme",(e=>this.toggleTheme(e))),b.$on("enableAnimation",(e=>this.enableAnimation(e))),b.$on("changeRatio",(e=>this.changeAspectRatio(e))),b.$on("fastforward",(()=>this.fastForward())),b.$on("fastbackward",(()=>this.fastBackward())),b.$on("mouseEntered",(e=>{this.handleMouseEvent(e,"enter")}));const C=new v.default(this._el);C.on("swipeleft",(e=>{"mouse"!==e.pointerType&&this.next()})),C.on("swiperight",(e=>{"mouse"!==e.pointerType&&this.prev()})),C.on("pinch",(e=>{e.scale>.7||this.exit()})),this.slideshow.addPresenter(b.presentationView),this.slideshow.on("stateDidChange",(()=>{b.myPerspectiveMode="presenterPerspective"===this.slideshow.mode})),this.slideshow.on("finish",(()=>this.onPresentationFinished())),document.addEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.addEventListener("fullscreenchange",this.onFullscreenChanged),r.default.on("before-close-editor-view",this.onEditorViewClose),this.listeners.push(o.default.route(a.PITCH_MODE.CONNECT_MAIN(this.mainWindowId,this.editorId),(e=>(this.addConnectedWindow(e),{initialSlide:this.slideshow.currentSlide})))),this.listeners.push(o.default.route(a.PITCH_MODE.SUB_EVENT(this.mainWindowId,this.editorId),(e=>{switch(e.event){case"keyEvent":this.handleKeydownEvent(e.payload.key,e.payload.modifiers);break;case"wheelEvent":this.handleScrollEvent(e.payload.scrollDelta);break;case"windowClose":this.exit();break;case"requestPointerInteraction":this.handlePointerInteraction(e.payload.windowId,e.payload.interaction);break;case"mouseEvent":this.handleMouseEvent(e.payload.windowId,e.payload.key)}}))),this.handleWindows()}handleWindows(){return i(this,void 0,void 0,(function*(){const e=m.default.remote.screen,t=e.getDisplayMatching(m.default.remote.getCurrentWindow().getBounds()),n=e.getAllDisplays(),s=yield Promise.all(n.filter((e=>e.id!==t.id)).map((e=>i(this,void 0,void 0,(function*(){return o.default.fetch(a.WINDOW_OPEN,{name:"presentation",query:{mainid:this.mainWindowId,editorid:this.editorId},backgroundThrottling:!1,overrideSetting:Object.assign(Object.assign({},e.bounds),{fullscreen:!0,acceptFirstMouse:!0})})})))));this.subWindowIds=s.map((e=>e.id)),this.subWindowsCreated=this.subWindowIds.length>0,this.myPerspectiveView.isSubScreensEnabled=this.subWindowIds.length>0,yield o.default.fetch(a.EDITOR_FULL_SCREEN,{fullscreen:!0,editorViewId:this.editorId,editorFrameId:this.editorFrameId,targetElementId:"PresentationMainWrapper"}),this.subWindowsCreated?this.checkConnectedWindows():(yield new Promise((e=>setTimeout(e,100))),this.present())}))}addConnectedWindow(e){this.connectedSubWindowIds.add(e),this._presentationViews.push(new A.default(e)),this.checkConnectedWindows()}checkConnectedWindows(){if(this.subWindowsCreated){if(this.subWindowIds.find((e=>!this.connectedSubWindowIds.has(e))))return;this.present()}}acquireFocus(){let e=0;const t=m.default.remote.getCurrentWindow(),n=setInterval((()=>{t.isFocused()||e>=10?clearInterval(n):(t.focus(),e+=1)}),500);t.focus()}present(){this._presentationViews.forEach((e=>{this.slideshow.addPresenter(e)})),this.slideshow.present(this.startingTopicId).then((()=>{this.slideshow.disablesAnimations=!this.contentProvider.animationEnabled})),this.myPerspectiveView.showSnackbarIfNeeded(),this.acquireFocus(),this._el.focus(),this._el.addEventListener("wheel",(e=>this.handleScrollEvent(e.deltaY))),this._el.addEventListener("keydown",(e=>{const{altKey:t,ctrlKey:n,metaKey:i,shiftKey:s}=e;this.handleKeydownEvent(e.key,{altKey:t,ctrlKey:n,metaKey:i,shiftKey:s})&&e.stopPropagation()}))}next(){this.myPerspectiveView.hideSettingsPopover(),this.slideshow.forward()}prev(){this.myPerspectiveView.hideSettingsPopover(),this.slideshow.backward()}fastForward(){this.myPerspectiveView.hideSettingsPopover(),this.slideshow.fastForward()}fastBackward(){this.myPerspectiveView.hideSettingsPopover(),this.slideshow.fastBackward()}toggleTheme(e){this.contentProvider.preferredThemeId=e,this.slideshow.changeSlideTheme(e)}changeAspectRatio(e){return i(this,void 0,void 0,(function*(){this.contentProvider.aspectRatio=e,e===p.AUTOMATIC_ASPECT_RATIO&&(e=w());const t=h.slideSizes[e];yield this.slideshow.changeSlideSize(t),this._el.focus()}))}enableAnimation(e){this.contentProvider.animationEnabled=e,this.slideshow.disablesAnimations=!e}toggleSettings(){this.myPerspectiveView.toggleSettingsPopover()}exit(){this.onPresentationFinished()}closeSubWindows(){for(const e of this.subWindowIds){const t=m.default.remote.BrowserWindow.fromId(e);t&&t.close()}this.subWindowIds.length=0}unload(){for(const e of this.listeners)e();this.listeners=[],this.myPerspectiveView.beforeViewDestroy(),this._el.parentElement&&this._el.parentElement.removeChild(this._el),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.removeEventListener("fullscreenchange",this.onFullscreenChanged),r.default.off("before-close-editor-view",this.onEditorViewClose);for(const e of this._presentationViews)e.unload()}handleKeydownEvent(e,t={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}){switch(e){case"PageDown":case"ArrowDown":case"Enter":case" ":return this.next(),!0;case"ArrowRight":return t.shiftKey?this.fastForward():this.next(),!0;case"PageUp":case"ArrowUp":return this.prev(),!0;case"ArrowLeft":return t.shiftKey?this.fastBackward():this.prev(),!0;case"Escape":case"q":case"Q":return this.exit(),!0;case"a":case"A":return this.myPerspectiveView.animationEnabled=!this.myPerspectiveView.animationEnabled,!0;case"/":case"?":return this.myPerspectiveView.isShortcutsListEnabled=!this.myPerspectiveView.isShortcutsListEnabled,!0}}handleMouseEvent(e,t){if("enter"===t){m.default.remote.BrowserWindow.fromId(e).focus()}}handlePointerInteraction(e,t){const n=this._presentationViews.find((t=>t.windowId==e));n&&this.slideshow.presenterDidReceivePointerInteraction(n,t)}}},51168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPartialPitchModeDataset=t.getPitchModeExtensionRaw=t.PitchModeExtensionProvider=void 0;const i=n(96486);function s(e){if(!e||!e.extensions)return{};let n;if(e.getPitchInfo)n=e.getPitchInfo();else if("function"==typeof e.extensions){const i=e.extensions();i&&i.getExtension&&(n=i.getExtension(t.PitchModeExtensionProvider))}else e.extensions&&(n=e.extensions.find((e=>e.provider===t.PitchModeExtensionProvider)));return n&&n.content&&n.content.length&&i.cloneDeep(n.content[0])||{}}t.PitchModeExtensionProvider="org.xmind.ui.pitchMode",t.getPitchModeExtensionRaw=s,t.getPartialPitchModeDataset=function(e){let t=null,n=null,i=null,o=null,r=null;const a=s(e);return void 0!==a.topicSlide&&(t=a.topicSlide?"show":"skip"),void 0!==a.listSlideDisabled&&(n=!0===a.listSlideDisabled?"skip":"show"),void 0!==a.listSlideLayout&&(i=a.listSlideLayout),void 0!==a.topicImageAlignment&&(o=a.topicImageAlignment),void 0!==a.summarySlideDisabled&&(r=!0===a.summarySlideDisabled?"skip":"show"),{id:e?e.id:"",title:"",labels:void 0,note:void 0,topicSlide:t,topicSlideAlignment:null,topicSlideImagePlacement:o,listSlides:n,listSlideLayout:i,summarySlide:r}}},65831:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{d(i.next(e))}catch(e){o(e)}}function a(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SheetSnapshotContentProvider=t.AUTOMATIC_ASPECT_RATIO=void 0;const s=n(51168),o=n(33276);t.AUTOMATIC_ASPECT_RATIO="Auto";t.SheetSnapshotContentProvider=class{constructor(e,t=null,n=null){if(this.store=e,this.topicMap={},this.parentMap={},this.endingScreenBackground="#FFFFFF",n)return this.topicMap=n.topicMap,this.parentMap=n.parentMap,this.rootTopic=n.rootTopic,this.endingScreenBackground=n.endingScreenBackground,void(this.endingScreenContentSnapshot=n.endingScreenContentSnapshot);this.sheetEditor=t||o.getSheetEditorFromStore(e);const i=this.sheetEditor.model;this.rootTopic=i.attributes.rootTopic,this.collectTopic(this.sheetEditor,i.attributes.rootTopic);const s=this.sheetEditor.getSheetView();s&&s.figure&&s.figure.backgroundColor&&(this.endingScreenBackground=s.figure.backgroundColor),this.getEndingImage()}serializeData(){return JSON.stringify({topicMap:this.topicMap,parentMap:this.parentMap,rootTopic:this.rootTopic,endingScreenBackground:this.endingScreenBackground,endingScreenContentSnapshot:this.endingScreenContentSnapshot})}get slideTheme(){return this.preferredThemeId}get sheet(){return this.sheetEditor&&this.sheetEditor.model}childrenOfTopic(e){return e&&e.children?e.children:null}collectTopic(e,t){const n=t;n.imageAttributes=o.getImageAttributes(t,this.store,e),this.topicMap[t.id]=n;const i=this.childrenOfTopic(t);if(i){if(i.attached)for(const n of i.attached)this.collectTopic(e,n),this.parentMap[n.id]=t.id;if(i.detached)for(const n of i.detached)this.collectTopic(e,n),this.parentMap[n.id]=t.id;if(i.summary)for(const n of i.summary)this.collectTopic(e,n),this.parentMap[n.id]=t.id;if(i.callout)for(const n of i.callout)this.collectTopic(e,n),this.parentMap[n.id]=t.id}}getStartingTopicId(){return this.rootTopic.id}getTopicAttributes(e){return this.topicModelToTopicAttributes(this.topicMap[e])}getSubtopics(e){const t=this.childrenOfTopic(this.topicMap[e]);return t&&t.attached?t.attached.map((e=>e.id)):[]}getParentTopicId(e){const t=this.parentMap[e];return t||""}getFloatingTopics(){const e=this.childrenOfTopic(this.rootTopic);return e&&e.detached?e.detached.map((e=>e.id)):[]}topicModelToTopicAttributes(e){if(!e)return{id:"",title:""};const t=s.getPartialPitchModeDataset(e),n=e.notes&&e.notes.plain?e.notes.plain.content:void 0;return Object.assign({},t,{title:e.title||"",labels:e.labels?e.labels.slice(0):void 0,note:n?{plainText:n}:null,image:e.imageAttributes,calloutTopicId:e.children&&e.children.callout&&e.children.callout.length>0?e.children.callout[0].id:null,markers:o.convertMarkerAttributes(this.store,(e.markers||[]).map((e=>e.markerId))),summaries:o.convertSummaryAttributes(e)})}getEndingImage(){return i(this,void 0,void 0,(function*(){if(!this.sheetEditor)return null;const e=yield this.sheetEditor.exportImage({format:"SVG"});if(!e)return null;const t={width:e.width,height:e.height,svgString:e.data,backgroundColor:this.endingScreenBackground};return this.endingScreenContentSnapshot=t,t}))}get endingScreenCached(){return!!this.endingScreenContentSnapshot}getEndingScreenContent(){return i(this,void 0,void 0,(function*(){return this.endingScreenContentSnapshot?this.endingScreenContentSnapshot:yield this.getEndingImage()}))}get animationEnabled(){return!0!==this.store.getters["pitch/disableAnimation"]}set animationEnabled(e){this.store.commit("pitch/updateSettings",{disableAnimation:!e})}get preferredThemeId(){return this.store.getters["pitch/preferredThemeId"]||"default"}set preferredThemeId(e){this.store.commit("pitch/updateSettings",{preferredThemeId:e})}get aspectRatio(){return this.store.getters["pitch/aspectRatio"]}set aspectRatio(e){this.store.commit("pitch/updateSettings",{aspectRatio:e})}get aspectRatioOptions(){return[t.AUTOMATIC_ASPECT_RATIO,"16:9","4:3","9:16","3:4"]}get isAutomaticRatio(){return this.aspectRatio===t.AUTOMATIC_ASPECT_RATIO}}},33276:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCentralTopicId=t.getFirstSelectedTopic=t.getSelectedSummaryTopics=t.getSelectedTopics=t.getSheetEditorFromStore=t.convertMarkerAttributes=t.convertSummaryAttributes=t.getImageAttributes=void 0;const s=i(n(61027)),o=n(57818),r=i(n(78835)),a=i(n(85622)),d=n(6921);function c(e){const t=e.state.editor.sbEditorWrapper;if(!t||!t.value)return null;return t.value.getCurrentSheetEditor()||null}function l(e,t){const n=c(e);if(!n)return{allTopics:[],summeries:[]};const i=n.getSelections();if(!i)return{allTopics:[],summeries:[]};const o=s.default.constant.MODEL_TYPE,r=s.default.constant.TOPIC_TYPE,a=[],d=i.map((e=>{if(e.originBranchView&&(e=e.originBranchView),e.model)switch(e.model.componentType){case o.TOPIC:if(e.model.type()===r.SUMMARY)a.push(e.model.id);else if(e.model.type()===r.CALLOUT){if(t)return null;{const t=e.model.parent();return t?t.id:null}}return e.model.id;case o.LABEL:case o.MARKER:case o.NOTE:case o.IMAGE:{const t=e.parent();if(t&&t.model&&t.model.componentType===o.TOPIC)return t.model.type()===r.SUMMARY&&a.push(t.model.id),t.model.id}}else{const t=e.parent();if("mathJax"===e.figureType&&t&&t.model&&t.model.componentType===o.TOPIC)return t.model.type()===r.SUMMARY&&a.push(t.model.id),t.model.id}return null})).filter((e=>!!e));return{allTopics:Array.from(new Set(d)),summeries:Array.from(new Set(a))}}t.getImageAttributes=function(e,t,n){if(!e.image)return;const i=n.getComponentViewById(e.id);let s=0,o=0;const d=e.image.src;if(i&&i.topicView&&i.topicView.image&&i.topicView.image.figure&&e.image.src&&i.topicView.image.figure.originalSize){const t=i.topicView.image.figure.originalSize;s=t.width,o=t.height,e.image.src}else e.image.width&&e.image.height&&(s=e.image.width,o=e.image.height);if(d){const e=r.default.parse(d),n=e.hostname+e.pathname,i=t.state.wd,c=i.manifestWrapper.value;if(s&&o&&c["file-entries"][n])return{source:"file://"+a.default.join(i.tempStorage,n),size:{width:s,height:o}}}},t.convertSummaryAttributes=function(e){return(e.summaries||[]).map((e=>{if(!e.topicId||!e.range)return null;const[t,n,i]=e.range.match(/\((\d+),(\d+)\)/)||[],s=parseInt(n,10),o=parseInt(i,10);return isNaN(s)||isNaN(o)?null:{topicId:e.topicId,startIndex:s,endIndex:o}})).filter((e=>!!e))},t.convertMarkerAttributes=function(e,t){if(e)return 0===t.length?[]:t.sort(((e,t)=>o.markerModule.indexOf(e)-o.markerModule.indexOf(t))).map((e=>({markerId:e,imageSource:a.default.join(d.getResourceBasePath(),o.markerModule.getMarkerInfoById(e).resource)}))).filter((e=>!!e.imageSource))},t.getSheetEditorFromStore=c,t.getSelectedTopics=l,t.getSelectedSummaryTopics=function(e){const t=c(e);if(!t)return[];const n=t.getSelections(),i=s.default.constant.MODEL_TYPE,o=s.default.constant.TOPIC_TYPE;return(n||[]).map((e=>(e.originBranchView&&(e=e.originBranchView),e.model&&e.model.componentType===i.TOPIC&&e.model.type()===o.SUMMARY?e.model.id:null))).filter((e=>!!e))},t.getFirstSelectedTopic=function(e){const t=c(e);if(!t)return null;const n=new Set(l(e,!1).allTopics);return function e(t){if(n.has(t.id))return t.id;if(t.children){if(t.children.attached)for(const n of t.children.attached){const t=e(n);if(t)return t}if(t.children.detached)for(const n of t.children.detached){const t=e(n);if(t)return t}if(t.children.summary)for(const n of t.children.summary){const t=e(n);if(t)return t}}return null}(t.model.attributes.rootTopic)},t.getCentralTopicId=function(e){const t=c(e);return t?t.model.attributes.rootTopic.id:null}},4013:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{d(i.next(e))}catch(e){o(e)}}function a(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(n(24678)),r=n(99492),a=s(n(58933)),d=s(n(41698)).default("pitchmode");t.default=class{constructor(e){this.windowId=e}sendMessage(e,t){return i(this,void 0,void 0,(function*(){const n=a.default.remote.BrowserWindow.fromId(this.windowId);if(n&&n.webContents&&!n.webContents.isDestroyed())try{return yield o.default.fetch(r.PITCH_MODE.SUB_COMMAND(this.windowId),{command:e,payload:t})}catch(e){return d.warn("SendMessage: ",e),e}else d.warn("Sub window is closed when sending message:",e)}))}performTransition(e){return i(this,void 0,void 0,(function*(){yield this.sendMessage("performTransition",e)}))}performStateChange(e,t){return i(this,void 0,void 0,(function*(){yield this.sendMessage("performStateChange",{state:e,animationOptions:t})}))}preloadTransition(e){this.sendMessage("preloadTransition",e)}presentEndingScreen(e,t){return i(this,void 0,void 0,(function*(){this.sendMessage("presentEndingscreen",{content:e,slideSize:t})}))}dismissEndingScreen(e){return i(this,void 0,void 0,(function*(){this.sendMessage("dismissEndingscreen",e)}))}unload(){}}},3946:(e,t,n)=>{"use strict";Object.defineProperty(t,"X",{value:!0});const i=n(90571);t.Z=i.createComponent({name:"pitchShortcutsList",setup(e,t){const n=i.getCurrentInstance(),s=t.root.$store,o=i.ref("darwin"===process.platform),r={shift:o.value?"⇧":"Shift"};return{shortcuts:i.computed((()=>[{label:n.$T("Next Step"),keybindings:["Space",",","→",",","↓"],type:"shortcut"},{label:n.$T("Previous Step"),keybindings:["←",",","↑"],type:"shortcut"},{label:n.$T("Skip Current Branch"),keybindings:[r.shift,"+","→"],type:"shortcut"},{label:n.$T("Back to Parent Topic"),keybindings:[r.shift,"+","←"],type:"shortcut"},{type:"separator"},{label:n.$T("Exit Pitch Mode"),keybindings:["Esc",",","Q"],type:"shortcut"},{label:n.$T("Enable/Disable Animation"),keybindings:["A"],type:"shortcut"},{label:n.$T("Show Keyboard Shortcuts"),keybindings:["?"],type:"shortcut"}])),isDarkAppearance:i.computed((()=>"dark"===s.getters["preferences/appearance"])),isMac:o}}})},55167:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>i.X,default:()=>o});var i=n(32496);var s=function(e){n(20031),n(28129)};const o=(0,n(62236).Z)(i.Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"myperspectiveConatiner",staticClass:"myperspective-wrapper",class:{nocursor:!e.myPerspectiveMode&&!e.indicatorHovered&&!e.alwaysShowCursor},attrs:{title:""},on:{mouseenter:e.onMouseEnter}},[n("div",{staticClass:"myperspective-toolbar"},[n("div",{staticClass:"zen-mode-top-bar uk-flex uk-flex-row uk-flex-right uk-height-1-1",class:{hidden:e.hideIndicatorBar},on:{mouseenter:function(t){e.indicatorHovered=!0},mouseover:function(t){e.indicatorHovered=!0},mouseout:function(t){e.indicatorHovered=!1}}},[n("div",{staticClass:"uk-background-default uk-margin-small-right uk-height-1-1 uk-border-rounded"},[n("ul",{staticClass:"uk-button-segment-group uk-button-segment-divider uk-height-1-1 uk-overflow-hidden"},[n("li",[n("span",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-button uk-button-segment uk-flex uk-flex-center uk-flex-middle uk-height-1-1",staticStyle:{"white-space":"nowrap"},attrs:{title:e.$T("Exit Pitch Mode.")},on:{click:function(t){return e.$emit("exit")}}},[e._v("\n              "+e._s(e.$T("Exit"))+"\n            ")])]),e._v(" "),n("li",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:group",value:["focus.popover"],expression:"['focus.popover']",arg:"group"}]},[n("div",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-button uk-button-segment uk-flex uk-flex-center uk-flex-middle uk-height-1-1",attrs:{id:e.settingPopoverId,title:e.$T("Settings")}},[n("img",{attrs:{draggable:"false",src:e.$toResourceURL("static/images/pitchmode/setting.svg"),"uk-svg":""}})]),e._v(" "),n("div",{ref:"settingsPopover",attrs:{"uk-popover":"","data-toggle":"#"+e.settingPopoverId}},[n("div",{staticClass:"uk-position-absolute",staticStyle:{width:"100%",height:"20px",top:"-20px"}}),e._v(" "),n("div",[n("div",{staticClass:"uk-padding-medium",staticStyle:{"padding-bottom":"16px"}},[n("h4",{staticClass:"uk-margin-remove-bottom uk-h1",staticStyle:{height:"24px"}},[e._v("\n                    "+e._s(e.$T("Settings"))+"\n                  ")])]),e._v(" "),n("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between uk-padding-medium uk-padding-remove-vertical",staticStyle:{"margin-bottom":"12px"}},[n("div",{staticClass:"settings-label"},[e._v("\n                    "+e._s(e.$T("Appearance"))+"\n                  ")]),e._v(" "),n("ul",{staticClass:"settings-content uk-tab uk-tab-icon uk-flex uk-flex-middle uk-flex-nowrap uk-margin-remove"},e._l(e.modeData,(function(t){return n("li",{key:t.key,class:{"uk-active":t.isActive},staticStyle:{width:"40px"},attrs:{title:t.tooltip},on:{click:function(n){return e.setNightMode("light"!==t.key)}}},[n("a",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-flex-center",attrs:{draggable:"false",href:"#"}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"item.isActive"}],attrs:{draggable:"false",src:t.activeImage,"uk-svg":""}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:!t.isActive,expression:"!item.isActive"}],attrs:{draggable:"false",src:t.image,"uk-svg":""}})])])})),0)]),e._v(" "),n("div",{staticClass:"uk-flex uk-flex-middle uk-flex-between uk-padding-medium uk-padding-remove-vertical",staticStyle:{"margin-bottom":"12px"}},[n("div",{staticClass:"settings-label"},[e._v("\n                    "+e._s(e.$T("Aspect Ratio"))+"\n                  ")]),e._v(" "),n("div",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:group",value:["focus.popover"],expression:"['focus.popover']",arg:"group"}],staticClass:"settings-content"},[n("button",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-width-1-1 uk-button uk-button-popover-toggle uk-select-icon uk-text-left",attrs:{title:e.$T("Choose a slide aspect ratio.")}},[n("span",{staticClass:"uk-width-1-1"},[e._v("\n                        "+e._s(e.getRatioLabel(e.currentAspectRatio)))])]),e._v(" "),n("div",{ref:"popover",staticClass:"uk-popover-contextual",attrs:{"uk-contextual-popover":"offsetLeft:20","data-sel-close":"[uk-menu] > li > button"}},[n("ul",{staticClass:"uk-overflow-auto uk-height-1-1",attrs:{"uk-menu":""}},[e._l(e.aspectRatioOptions,(function(t){return[n("li",{key:t},[n("button",{class:{"uk-checked":t===e.currentAspectRatio},staticStyle:{height:"24px","shape-rendering":"crispEdges"},attrs:{autofocus:t===e.currentAspectRatio},on:{click:function(n){return e.onChangeRatio(t)}}},[n("span",[e._v(e._s(e.getRatioLabel(t)))])])]),e._v(" "),["Auto","4:3"].includes(t)?n("li",{key:t+"divider",staticClass:"uk-menu-divider"}):e._e()]}))],2)])])]),e._v(" "),n("div",{staticClass:"uk-flex uk-flex-middle uk-padding-medium uk-padding-remove-top"},[n("label",{staticClass:"uk-flex-middle",staticStyle:{display:"flex"},attrs:{title:e.$T("Enable / Disable animation.")}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.animationEnabled,expression:"animationEnabled"},{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-checkbox uk-margin-remove",staticStyle:{position:"static",width:"14px",height:"14px",opacity:"1"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.animationEnabled)?e._i(e.animationEnabled,null)>-1:e.animationEnabled},on:{change:function(t){var n=e.animationEnabled,i=t.target,s=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.animationEnabled=n.concat([null])):o>-1&&(e.animationEnabled=n.slice(0,o).concat(n.slice(o+1)))}else e.animationEnabled=s}}}),e._v(" "),n("span",{staticStyle:{"margin-left":"6px","font-weight":"500","line-height":"1"}},[e._v("\n                      "+e._s(e.$T("Animation"))+"\n                    ")])])])])])])])]),e._v(" "),n("div",{staticClass:"uk-background-default uk-height-1-1 uk-border-rounded"},[n("ul",{staticClass:"uk-button-segment-group uk-button-segment-divider uk-height-1-1 uk-overflow-hidden"},[n("li",{staticClass:"uk-flex uk-flex-center uk-flex-middle"},[n("span",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-button uk-button-segment uk-flex uk-flex-center uk-flex-middle uk-height-1-1 pitch-mode-btn",attrs:{title:e.$T("Back to Parent Topic.")},on:{click:function(t){return e.$emit("fastbackward")}}},[n("img",{attrs:{draggable:"false","uk-svg":"",src:e.$toResourceURL("static/images/pitchmode/fast-backward.svg")}})])]),e._v(" "),n("li",{staticClass:"uk-flex uk-flex-center uk-flex-middle"},[n("span",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-button uk-button-segment uk-flex uk-flex-center uk-flex-middle uk-height-1-1 pitch-mode-btn",attrs:{title:e.$T("Previous slide")},on:{click:function(t){return e.$emit("prev")}}},[n("img",{attrs:{draggable:"false","uk-svg":"",src:e.$toResourceURL("static/images/pitchmode/previous-slide.svg")}})])]),e._v(" "),n("li",{staticClass:"uk-flex uk-flex-center uk-flex-middle"},[n("span",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-button uk-button-segment uk-flex uk-flex-center uk-flex-middle uk-height-1-1 pitch-mode-btn",attrs:{title:e.$T("Next slide")},on:{click:function(t){return e.$emit("next")}}},[n("img",{attrs:{draggable:"false","uk-svg":"",src:e.$toResourceURL("static/images/pitchmode/next-slide.svg")}})])]),e._v(" "),n("li",{staticClass:"uk-flex uk-flex-center uk-flex-middle"},[n("span",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no",arg:"no"}],staticClass:"uk-button uk-button-segment uk-flex uk-flex-center uk-flex-middle uk-height-1-1 pitch-mode-btn",attrs:{title:e.$T("Skip Current Branch.")},on:{click:function(t){return e.$emit("fastforward")}}},[n("img",{attrs:{draggable:"false","uk-svg":"",src:e.$toResourceURL("static/images/pitchmode/fast-forward.svg")}})])])])])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShortcutsListEnabled,expression:"isShortcutsListEnabled"}],staticClass:"shortcuts-list uk-position-fixed"},[n("Shortcuts",{on:{close:function(t){e.isShortcutsListEnabled=!1}}})],1)])}),[],!1,s,"data-v-64c8759a",null).exports},50608:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>i.X,default:()=>o});var i=n(3946);var s=function(e){n(75523)};const o=(0,n(62236).Z)(i.Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shortcuts uk-background-default"},[n("div",{staticStyle:{"line-height":"29px",height:"29px","text-align":"center"}},[n("span",{style:{color:"#949494",position:"absolute",left:e.isMac?"8px":null,right:e.isMac?null:"8px",top:"5px"},attrs:{"uk-icon":"icon: clear"},on:{click:function(t){return e.$emit("close")}}}),e._v(" "),n("span",[e._v(e._s(e.$T("Shortcuts")))])]),e._v(" "),n("div",[n("ul",e._l(e.shortcuts,(function(t,i){return n("li",{key:i,staticClass:"uk-flex uk-flex-between"},["separator"===t.type?n("div",{staticClass:"uk-width-1-1",staticStyle:{padding:"7px 0 2px 0"}},[n("hr",{staticClass:"uk-separator uk-width-1-1"})]):[n("div",[n("span",{staticStyle:{"line-height":"25px","padding-right":"5px"}},[e._v(e._s(t.label))])]),e._v(" "),n("div",{staticClass:"uk-flex",class:{"dark-appearance":e.isDarkAppearance}},e._l(t.keybindings,(function(t,i){return n("div",{key:i},[[",","+"].includes(t)?n("span",{staticClass:"key-operator"},[e._v(e._s(t))]):n("span",{staticClass:"key-block"},[e._v(" "+e._s(t))])])})),0)]],2)})),0)])])}),[],!1,s,"data-v-53b66bb2",null).exports},75523:(e,t,n)=>{var i=n(62990);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("70a7a30e",i,!0,{})},20031:(e,t,n)=>{var i=n(3579);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("26f6c028",i,!0,{})},28129:(e,t,n)=>{var i=n(57250);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("2e4581e2",i,!0,{})}}]);