(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[8738],{56447:(t,e,o)=>{"use strict";var i=o(95318);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(o(59713)),a=i(o(71191)),r=o(90336),s=i(o(24678)),d=o(99492),l=o(20629),c=o(58933),u=o(28441);function m(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?m(Object(o),!0).forEach((function(e){(0,n.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}const h=a.default.parse(window.location.search.slice(1)).frameId||"";var b={data:()=>({editorIdsForDragging:null,isDropArea:!1,draggingId:null,isOverflow:!1,swapLeftDisable:!0,swapRightDisable:!1}),computed:p(p({},(0,l.mapState)({activeEditorId:t=>t[r.SHARED].activeEditorId})),{},{editorIdFromStore(){return this.$store.state[r.EDITOR_OWNERSHIP].frameToEditor[h]},editorIds(){return this.isDropArea&&this.editorIdsForDragging||this.editorIdFromStore}}),watch:{activeEditorId(t){this.$nextTick((()=>{this.showItemInScrollView(t)}))}},mounted:function(){window.addEventListener("resize",this.calcIsOverflow),this.$nextTick((function(){this.calcIsOverflow()}))},updated:function(){this.$nextTick((function(){this.calcIsOverflow()}))},beforeDestroy:function(){window.removeEventListener("resize",this.calcIsOverflow)},methods:{calcTitle(t){const e=this.$store.state[(0,r.EDITOR_SHARED_WITH_ID)(t)];return e&&null!==e.title?e.title:this.$T("Untitled")},showEditor:t=>s.default.fetch(d.SHOW_EDITOR_IN_FRAME,{editorId:t,frameId:h}),closeEditor:t=>s.default.fetch(d.EDITOR_CLOSE,{editors:[t]}),addNewEditorView:()=>s.default.fetch(d.EDITOR_OPEN,{frameId:h}),popContextMenu(t,e){const{Menu:o}=c.remote;o.buildFromTemplate([{label:this.$T("Close Tab"),click:()=>{s.default.fetch(d.EDITOR_CLOSE,{editors:[e]})}},{label:this.$T("Close Other Tab"),click:async()=>{const t=this.$store.state[r.EDITOR_OWNERSHIP].frameToEditor[h].filter((t=>t!==e));for(const e of t)await s.default.fetch(d.EDITOR_CLOSE,{editors:[e]})}},{label:this.$T("Move Tab to New Window"),click(){s.default.fetch(d.SHOW_EDITOR_IN_FRAME,{editorId:e})}}]).popup({window:c.remote.getCurrentWindow(),x:t.clientX,y:t.clientY})},onDragStart(t,e){t.dataTransfer.effectAllowed="all",t.dataTransfer.setData("text/x-editor-info",JSON.stringify({frameId:h,editorId:e})),this.draggingId=e},onDragEnd(){this.draggingId=null},onDragEnter(t){-1!==t.dataTransfer.types.indexOf("text/x-editor-info")&&(t.preventDefault(),t.dataTransfer.dropEffect="move")},onDragOver(t){if(-1===t.dataTransfer.types.indexOf("text/x-editor-info"))return;t.preventDefault(),t.dataTransfer.dropEffect="move",this.isDropArea=!0;const e=this.$refs.tabItems.slice().sort(((t,e)=>t.dataset.index-e.dataset.index));let o;for(o=0;o<e.length;o++){let i=-1/0;if(e[o-1]){const t=e[o-1].getBoundingClientRect();i=(t.right+t.left)/2}let n=1/0;if(e[o]){const t=e[o].getBoundingClientRect();n=(t.right+t.left)/2}if(t.clientX>i&&t.clientX<n)break}const i=this.editorIdFromStore.filter((t=>t!==this.draggingId));i.splice(o,0,this.draggingId),this.editorIdsForDragging=i},onDrop(t){let e=t.dataTransfer.getData("text/x-editor-info");try{e=JSON.parse(e)}catch(t){e=null}if(e&&(t.preventDefault(),this.isDropArea=!1,this.draggingId)){const t=this.editorIdsForDragging.slice();s.default.fetch(d.UPDATE_EDITOR_INDEX,{frameId:h,newEditorIds:t})}},onDragLeave(t){if(-1!==t.dataTransfer.types.indexOf("text/x-editor-info")){const t=document.elementFromPoint(event.clientX,event.clientY);this.$el.contains(t)||(this.isDropArea=!1)}},onDragExit(){},calcIsOverflow(){if(!this.$el)return!1;const t=this.$refs.tabUL;return!!t&&(this.isOverflow=t.scrollWidth>t.offsetWidth,this.isOverflow)},onTabScroll(){this.$nextTick((()=>{const t=this.$refs.tabUL;t&&(this.swapLeftDisable=0===t.scrollLeft,this.swapRightDisable=t.scrollLeft+t.offsetWidth>=t.scrollWidth)}))},showItemInScrollView(t){if(!t)return;const e=this.$refs.tabItems,o=this.$refs.tabUL,i=e.find((e=>e.dataset.id===t));i.offsetLeft<o.scrollLeft?o.scrollLeft=i.offsetLeft:i.offsetLeft+i.offsetWidth>o.scrollLeft+o.offsetWidth&&(o.scrollLeft=i.offsetLeft+i.offsetWidth-o.offsetWidth)},swapLeft(){const t=this.$refs.tabItems.slice().sort(((t,e)=>e.dataset.index-t.dataset.index));for(const e of t)if(e.offsetLeft<this.$refs.tabUL.scrollLeft)return void this.showItemInScrollView(e.dataset.id)},swapRight(){const t=this.$refs.tabItems.slice().sort(((t,e)=>t.dataset.index-e.dataset.index)),e=this.$refs.tabUL.scrollLeft+this.$refs.tabUL.offsetWidth;for(const o of t)if(o.offsetLeft+o.offsetWidth>e)return void this.showItemInScrollView(o.dataset.id)},wrappedTooltipWithKeybinding:u.wrappedTooltipWithKeybinding}};e.Z=b},10738:(t,e,o)=>{"use strict";var i=o(95318);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(o(59713)),a=i(o(85622)),r=o(58933),s=o(20629),d=o(83450),l=o(90336),c=i(o(41698)),u=o(6921),m=o(48932),p=i(o(37582)),h=i(o(37007)),b=o(28441),f=o(96486);function g(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function I(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach((function(e){(0,n.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}const v=(0,c.default)("renderer:editor-frame:topbar"),{Menu:w,MenuItem:T}=r.remote,k='-apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, Roboto, "Helvetica Neue", Arial, sans-serif',y="darwin"===process.platform?14:0,x=(0,b.createGetTextWidthFunction)();var O={name:"Topbar",components:{},props:{textVisibility:{type:String}},data:function(){return{hoverToolbarItemId:null,windowWidth:1/0,prevWindowWidth:1/0,updatedTopbarItemsCount:0,toolbarItemsDebounced:[],modeTabItemsDebounced:[],panelButtonItemsDebounced:[]}},computed:I(I(I({},(0,s.mapState)("account",["region","user","token"])),(0,s.mapGetters)("preferences",["language"])),{},{editorSharedState(){return this.$store.state[(0,l.EDITOR_SHARED_WITH_ID)(this.activeEditorId)]||{}},isRightbarVisible(){return this.editorSharedState.isRightbarVisible},rightBarPanel(){return this.editorSharedState.rightBarPanel},mode(){return this.editorSharedState.editorMode},isOutlineMode(){return this.mode===m.EDITOR_MODE_OUTLINER},toolbarConfig(){return this.isOutlineMode?p.default:h.default},activeEditorId(){return this.$store.state[l.SHARED].activeEditorId},isTextVisible(){return"hidden"!==this.textVisibility},modeTabItems(){return[I(I({},this.getTopbarItem("mindmap",["disabled","icon"])),{},{value:m.EDITOR_MODE_SNOWBRUSH}),I(I({},this.getTopbarItem("outliner",["disabled","icon"])),{},{value:m.EDITOR_MODE_OUTLINER})]},panelButtonItems(){return[I(I({},this.getTopbarItem("format",["disabled","icon"])),{},{show:!0})]},dynamicInsertMenuItem(){return this.toolbarConfig.toolbarItems.dynamic.reduce(((t,e)=>{const o=this.getTopbarItem(e);return t[e]={icon:e,label:o.text,commandId:o.commandId,eventAction:`${o.commandId.split(".")[1]}ByToolbar`},t}),{})},insertMenuItems(){const t=t=>this.toolbarConfig.toolbarItems.dynamic.includes(t)?this.toolbarItems.includes(t)?null:this.dynamicInsertMenuItem[t]:null,e=[[t("topic"),t("subtopic")],[t("relationship"),t("summary"),t("boundary")],[{icon:"notes",label:this.$T("Note"),commandId:"editor.showNotesEditor",eventAction:"showNotesEditorByToolbar"},{icon:"label",label:this.$T("Label"),commandId:"editor.showLabelEditor",eventAction:"addLabelByToolbar"},{icon:"link",label:this.$T("Link(noun)"),submenu:[{label:this.$T("Webpage"),commandId:"editor.showHyperlinkEditor",eventAction:"addWebLinkByToolbar"},{label:this.$T("Topic"),commandId:"editor.showTopiclinkEditor",eventAction:"addTopicLinkByToolbar"},{label:this.$T("Local File"),commandId:"editor.addFileLink",eventAction:"addFileLinkByToolbar"},{label:this.$T("Local Folder"),commandId:"editor.addFolderLink",eventAction:"addFoldLinkByToolbar"}]}],[{icon:"attachment",label:this.$T("Attachment"),commandId:"editor.addAttachmentOnNewTopic",eventAction:"addAttachmentByToolbar"},{icon:"audionote",label:this.$T("Audio Note"),commandId:"editor.addAudioOnNewTopic",eventAction:"addAudioNoteByToolbar"}],[{icon:"localimage",label:this.$T("Local Image"),commandId:"editor.addLocalImage",eventAction:"addImageByToolbar"},{icon:"equation",label:this.$T("Equation"),commandId:"editor.showEquationEditor",eventAction:"addEquationByToolbar"}]];return e.reduce(((t,o,i)=>{const n=o.filter((t=>!!t));if(!n.length)return t;const a=t.concat(n);return i!==e.length-1&&a.push("---"),a}),[])},toolbarItems(){const{windowWidth:t}=this,e=this.prevWindowWidth!==t;if(this.prevWindowWidth=t,!(this.topbarItems&&this.$refs.modeTabButtons&&this.$refs.togglesButtons&&this.updatedTopbarItemsCount))return[];let{prefix:o,dynamic:i,postfix:n}=this.toolbarConfig.toolbarItems;o=[...o],i=[...i],n=[...n];const a=o.filter((t=>"string"==typeof t)).concat(i.concat(n.filter((t=>"string"==typeof t)))),r={},s=t=>{if(r[t])return r[t];const e=(this.isTextVisible?Math.max(47,this.getTopbarItem(t,["textWidth"]).textWidth):47)+12;return r[t]=e,e};if(e){const e=a.reduce(((t,e)=>t+s(e)),0);let o=y+this.$refs.modeTabButtons.clientWidth+e+this.$refs.togglesButtons.clientWidth-(t-32);for(;o>0;){const t=i.pop();if(!t)break;o-=s(t)}}return o.concat(i).concat(n)},computedToolbarItems(){return this.toolbarItems.map((t=>"string"==typeof t?I(I({},this.makeToolbarItem(t)),{},{id:t}):t)).filter(Boolean)},computedToolbarItemsDisabledList(){return this.computedToolbarItems.reduce(((t,e)=>("boolean"!=typeof e.disabled||(t[e.id]=e.disabled),t)),{})},topbarItems(){return I(I(I({},{mindmap:{type:"mode",text:this.$T("Mind Map"),tooltip:this.wrappedTooltipWithKeybinding(this.$T("Switch to Mind Map mode."),"workbench.switchToMapOrOutliner"),commandId:"workbench.mapMode",getIsDisabled:()=>!this.canHandleCommand("workbench.mapMode")&&!this.canHandleCommand("workbench.outlineMode"),getIcon:()=>this.$toResourceURL("static/assets/images/icon-toolbar-map.svg")},outliner:{type:"mode",text:this.$T("Outliner"),tooltip:this.wrappedTooltipWithKeybinding(this.$T("Switch to Outliner mode."),"workbench.switchToMapOrOutliner"),commandId:"workbench.outlineMode",getIsDisabled:()=>!this.canHandleCommand("workbench.mapMode")&&!this.canHandleCommand("workbench.outlineMode"),getIcon:()=>this.$toResourceURL("static/assets/images/icon-toolbar-outliner.svg")},insert:{type:"toolbar",text:this.$T("Insert"),tooltip:this.$T("Add other elements to selected topics."),onclick:"showInsertMenu",getIsDisabled:()=>!this.canHandleInsertMenu(),getIcon:()=>this.$toResourceURL("static/assets/images/toolbar/insert.svg")},format:{type:"panel",text:this.$T("Panel"),tooltip:this.wrappedTooltipWithKeybinding(this.$T("Show or hide style and format options."),"workbench.toggleRightPanel"),commandId:"workbench.toggleRightPanel",getIsDisabled:()=>!this.canHandleCommand("workbench.toggleRightPanel"),getIcon:()=>this.$toResourceURL("static/assets/images/toolbar/sidebar.svg")}}),h.default.getTopbarItem(this)),p.default.getTopbarItem(this))}}),mounted(){this.updateTopbarItemsCount(),this.updateClientWidth(),this.prevWindowWidth=this.windowWidth,window.addEventListener("resize",this.updateClientWidth)},beforeDestroy(){window.removeEventListener("resize",this.updateClientWidth)},watch:{computedToolbarItems(t){Array.isArray(t)&&this.getToolbarItemsDebounced(t)},modeTabItems(t){Array.isArray(t)&&this.getModeTabItemsDebounced(t)},panelButtonItems(t){Array.isArray(t)&&this.getPanelButtonItemsDebounced(t)},computedToolbarItemsDisabledList(t,e){const{hoverToolbarItemId:o}=this;o&&"boolean"==typeof t[o]&&t[o]!==e[o]&&!t[o]&&this.$nextTick((()=>{this.removeHoverToolbarItemId()}))},language(){this.updateTopbarItemsCount()},isOutlineMode(){this.updateTopbarItemsCount()}},methods:{getToolbarItemsDebounced:(0,f.debounce)((function(t){this.toolbarItemsDebounced=t}),100),getModeTabItemsDebounced:(0,f.debounce)((function(t){this.modeTabItemsDebounced=t}),100),getPanelButtonItemsDebounced:(0,f.debounce)((function(t){this.panelButtonItemsDebounced=t}),100),updateTopbarItemsCount(){this.$nextTick((()=>{this.updatedTopbarItemsCount+=1}))},updateClientWidth(){this.windowWidth=document.documentElement.clientWidth},caculateInsertMenuIconUrl(t){const e="darwin"===process.platform?"Template":"";return a.default.join((0,u.getAppPath)(),`static/images/toolbar-insert/${t}${e}.png`)},sendCommand(t){this.frameFocus(),this.$store.handleCommand(t)},getAllInsertMenuCommandIds(t){return t.filter((t=>"---"!==t&&!!t)).reduce(((t,e)=>(e.commandId&&t.push(e.commandId),e.submenu&&(t=t.concat(this.getAllInsertMenuCommandIds(e.submenu))),t)),[])},canHandleInsertMenu(){return this.getAllInsertMenuCommandIds(this.insertMenuItems).some((t=>this.canHandleCommand(t)))},createInsertMenuItemOptions(t){const e={label:t.label,enabled:!t.commandId||this.canHandleCommand(t.commandId),click:t.commandId?()=>{this.$store.handleCommand(t.commandId),(0,d.trackEvent)({eventCategory:"Toolbar",eventAction:t.eventAction,eventName:t.commandId})}:null};return t.icon&&(e.icon=this.caculateInsertMenuIconUrl(t.icon)),e},showInsertMenu(){let t=new w;this.insertMenuItems.forEach((e=>{if("---"===e)return t.append(new T({type:"separator"}));const o=this.createInsertMenuItemOptions(e);e.submenu&&(o.submenu=e.submenu.filter((t=>!!t)).map((t=>this.createInsertMenuItemOptions(t)))),t.append(new T(o))}));let e=this.$refs.toolbarItems.find((t=>"insert"===t.dataset.id)).getBoundingClientRect();t.addListener("menu-will-close",(()=>{this.removeHoverToolbarItemId()})),t.popup({window:r.remote.getCurrentWindow(),x:parseInt(e.x),y:parseInt(e.bottom)+6})},canHandleCommand(t){if(this.editorSharedState.sheetRendering)return!1;const e=this.$store.getters[`${l.SHARED}/commandById`](t);return!!e&&e.enabled},getTopbarItem(t,e=[]){const o=this.topbarItems,i={mode:`500 14px ${k}`,toobar:`400 11px ${k}`,panel:`400 11px ${k}`},n=o[t],a={text:n.text,tooltip:n.tooltip,commandId:n.commandId,onclick:n.onclick};return Array.isArray(a)||(e.includes("disabled")&&(a.disabled=n.getIsDisabled()),e.includes("icon")&&(a.icon=n.getIcon()),e.includes("textWidth")&&(a.textWidth=x(n.text,i[n.type])),e.includes("id")&&(a.id=t)),a},makeToolbarItem(t){return this.getTopbarItem(t,["disabled","icon"])||null},onButtonClick(t,e){this._patch_EraseToolTip(),setTimeout((()=>{"string"==typeof e.onclick?this[e.onclick](t):e.commandId&&(this.sendCommand(e.commandId),this.trackCommandId(e.commandId))}),50)},_patch_EraseToolTip(){const t=r.remote.getCurrentWebContents();t&&t.sendInputEvent({type:"mouseLeave",x:0,y:0})},frameFocus(){const t=r.remote.BrowserWindow.getFocusedWindow(),e=t&&t.getBrowserView();e&&e.webContents.send("frame-focus")},changeMode(t,e){this.sendCommand(e),(0,d.trackEvent)({eventCategory:"Toolbar",eventAction:"changeModeByToolbar",eventName:t})},trackCommandId(t){const e=t.split("."),o=2===e.length?e[1]:t;o?(0,d.trackEvent)({eventCategory:"Toolbar",eventAction:o+"ByToolbar"}):v.warn("Get eventAction Error!:",t)},setHoverToolbarItemId(t){this.hoverToolbarItemId=t},removeHoverToolbarItemId(){this.hoverToolbarItemId=null},isIconOnly(){return this.$store.getters["preferences/toolbarStyle"]()===m.TOOLBAR_STYLE_ICON_ONLY},_openTopBarContextMenu(){const t=new w;t.append(new T({label:this.$T("Icon Only"),type:"radio",checked:this.isIconOnly(),click:()=>{this.$store.handleCommand("workbench.iconOnly")}})),t.append(new T({label:this.$T("Icon and Text"),type:"radio",checked:!this.isIconOnly(),click:()=>{this.$store.handleCommand("workbench.iconAndText")}})),t.popup({window:r.remote.getCurrentWindow()}),event.preventDefault(),event.stopPropagation()},wrappedTooltipWithKeybinding:b.wrappedTooltipWithKeybinding}};e.Z=O},7322:(t,e,o)=>{"use strict";var i=o(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(59713)),a=o(48932),r=o(99492),s=o(36414),d=i(o(24678));function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){(0,n.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u={computed:{},watch:{touchBarItems(t){this.updateTouchBarItems(t)}},methods:{updateTouchBarItems(t){const e=t=>{const e=t.click;let o=this._touchBarRoutes[e];return o||(o={method:e,endpoint:(0,r.WINDOW_CALLBACK)(window.id,(0,s.hyphenate)(e))},this._touchBarRoutes[e]=o),o.unroute||(o.unroute=d.default.route(o.endpoint,this[e])),Object.assign({},t,{click:o.endpoint})};t=(t||this.touchBarItems||[]).map((t=>("button"!==t.type||"string"!=typeof t.click||a.WINDOW_ACTIONS.includes(t.click)||t.click.startsWith("command:")?"buttons"===t.type&&(t=c(c({},t),{},{buttons:t.buttons.map((t=>"string"!=typeof t.click||a.WINDOW_ACTIONS.includes(t.click)||t.click.startsWith("command:")?t:e(t)))})):t=e(t),t))),this.$store.commit("window/updateTouchBarItems",{items:t})}},beforeCreate(){this._touchBarRoutes={}},mounted(){this.updateTouchBarItems()},beforeDestroy(){Object.values(this._touchBarRoutes).forEach((({unroute:t})=>t&&t())),this._touchBarRoutes={}}};e.default=u},5034:(t,e,o)=>{"use strict";var i=o(95318),n=i(o(59713)),a=i(o(71191)),r=o(58933),s=i(o(2872)),d=o(90336),l=i(o(83465)),c=i(o(59552)),u=i(o(83513)),m=i(o(10108)),p=i(o(41336));function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function b(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){(0,n.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}const f=a.default.parse(window.location.search.slice(1)).frameId||"";window.frameId=f,(0,s.default)(b(b({},p.default),{},{mixins:[...p.default.mixins||[]]}),{name:"editor-frame",storeModules:{[d.SHARED]:b(b({},l.default),{},{remoteNamespace:(0,d.FRAME_SHARED_WITH_ID)(f)})},storePlugins:[(0,c.default)(),(0,u.default)(),(0,m.default)(f),()=>{window.addEventListener("focus",(()=>{setTimeout((()=>{const t=r.remote.BrowserWindow.getFocusedWindow(),e=t&&t.getBrowserView();e&&e.webContents.focus()}),0)}))}]})},37007:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={toolbarItems:{prefix:[{id:"space-1",classes:["uk-flex-4","uk-margin-remove"]}],dynamic:["topic","subtopic","relationship","summary","boundary"],postfix:["insert",{id:"space-2",classes:["uk-flex-2","uk-margin-remove"]},"zen","presentation",{id:"space-3",classes:["uk-flex-1","uk-margin-remove"]}]},getTopbarItem:t=>({topic:{type:"toolbar",text:t.$T("Topic"),tooltip:t.$T("Add a topic after the selected topic."),commandId:"editor.addTopic",getIsDisabled:()=>!t.canHandleCommand("editor.addTopic"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/topic.svg")},subtopic:{type:"toolbar",text:t.$T("Subtopic"),tooltip:t.$T("Add a child topic to the selected topic."),commandId:"editor.addSubTopic",getIsDisabled:()=>!t.canHandleCommand("editor.addSubTopic"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/subtopic.svg")},relationship:{type:"toolbar",text:t.$T("Relationship"),tooltip:t.$T("Create relationship between 2 topics."),commandId:"editor.addRelationship",getIsDisabled:()=>!t.canHandleCommand("editor.addRelationship"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/relationship.svg")},boundary:{type:"toolbar",text:t.$T("Boundary"),tooltip:t.$T("Group the selected topics with boundary."),commandId:"editor.addBoundary",getIsDisabled:()=>!t.canHandleCommand("editor.addBoundary"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/boundary.svg")},summary:{type:"toolbar",text:t.$T("Summary"),tooltip:t.$T("Add a summary to the selected topics."),commandId:"editor.addSummary",getIsDisabled:()=>!t.canHandleCommand("editor.addSummary"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/summary.svg")},zen:{type:"toolbar",text:t.$T("ZEN"),tooltip:t.$T("Access into ZEN Mode to focus on your ideas."),commandId:"workbench.toggleZenMode",getIsDisabled:()=>!t.canHandleCommand("workbench.toggleZenMode"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/zen.svg")},presentation:{type:"toolbar",text:t.$T("Pitch"),tooltip:t.$T("Access into Pitch Mode to present your ideas."),commandId:"editor.enterPitchMode",getIsDisabled:()=>!t.canHandleCommand("editor.enterPitchMode"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/pitch.svg")}})};e.default=o},37582:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={toolbarItems:{prefix:[{id:"space-5",classes:["uk-flex-2","uk-margin-remove"]},"indent","outdent"],dynamic:[],postfix:["insert",{id:"space-6",classes:["uk-flex-2","uk-margin-remove"]},{id:"space-7",classes:["uk-flex-1","uk-margin-remove"]}]},getTopbarItem:t=>({indent:{type:"toolbar",text:t.$T("Indent"),tooltip:t.$T("Indent the selected topic to next level."),commandId:"outliner.indent",getIsDisabled:()=>!t.canHandleCommand("outliner.indent"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/indent.svg")},outdent:{type:"toolbar",text:t.$T("Outdent"),tooltip:t.$T("Outdent the selected topic to previous level."),commandId:"outliner.outdent",getIsDisabled:()=>!t.canHandleCommand("outliner.outdent"),getIcon:()=>t.$toResourceURL("static/assets/images/toolbar/outdent.svg")}})};e.default=o},59552:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(90336),n=o(36414);e.default=()=>t=>{const e=`frame/${window.frameId}`;function o(t){const e=t[i.EDITOR_OWNERSHIP].frameToEditor[window.frameId];return e&&e.length>1}t.watch((()=>{let n=[{id:"frame.addNewTab",label:"New Tab",enabled:!0,provider:e},{id:"frame.previousTab",enabled:!0,provider:e},{id:"frame.nextTab",enabled:!0,provider:e}];const a=t.getters[`${i.SHARED}/isShowTabbar`]?"Hide Tab Bar":"Show Tab Bar",r=!(t.getters[`${i.SHARED}/isShowTabbar`]&&(t.state[i.EDITOR_OWNERSHIP].frameToEditor[window.frameId]||[]).length>1);return n.push({id:"frame.toggleTabbar",label:a,enabled:r,provider:e}),n.push({id:"closeSimpleWindow",label:o(t.state)?"Close Tab":"Close Window",enabled:!0,provider:e}),n.push({id:"closeComplexWindow",label:"Close Window",enabled:o(t.state),provider:e}),n}),(0,n.microDebounce)((e=>{t.commit(`${i.SHARED}/updateCommands`,e)})))}},83513:(t,e,o)=>{"use strict";var i=o(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(99492),a=i(o(24678)),r=o(90336);e.default=()=>t=>{const e=`frame/${window.frameId}`,o={[e]:{"frame.toggleTabbar":()=>{const e=t.getters[`${r.SHARED}/isShowTabbar`];t.commit(`${r.SHARED}/setIsShowTabbar`,{isShow:!e})},"frame.addNewTab":()=>{a.default.fetch(n.EDITOR_OPEN,{frameId:window.frameId})},"frame.previousTab":function(){const e=t.state[r.SHARED].frameId,o=t.state[r.SHARED].activeEditorId,i=t.state[r.EDITOR_OWNERSHIP].frameToEditor[e];if(!i||i&&i.length<2)return;const s=i.indexOf(o);if(s>-1){let t=s-1;t=t<0?t+i.length:t,a.default.fetch(n.SHOW_EDITOR_IN_FRAME,{editorId:i[t],frameId:e})}},"frame.nextTab":function(){const e=t.state[r.SHARED].frameId,o=t.state[r.SHARED].activeEditorId,i=t.state[r.EDITOR_OWNERSHIP].frameToEditor[e];if(!i||i&&i.length<2)return;const s=i.indexOf(o);if(s>-1){const t=(s+1)%i.length;a.default.fetch(n.SHOW_EDITOR_IN_FRAME,{editorId:i[t],frameId:e})}},closeSimpleWindow:()=>{const e=t.state[r.SHARED].activeEditorId;e&&a.default.fetch(n.EDITOR_CLOSE,{editors:[e]})},closeComplexWindow:()=>t.handleCommand("closeWindow")}};t.doHandleCommand=(e,i)=>{let s=i&&i.provider;if(!s){const o=t.getters[`${r.SHARED}/commandById`](e);s=o&&o.provider}if(!s)return a.default.fetch(n.COMMAND_HANDLE_WITH_COMPUTED_PROVIDER,{commandId:e,handlerArgs:i}),"interruption";if(!(s in o))return a.default.fetch((0,n.COMMAND_HANDLE_WITH_PROVIDER)(s),{commandId:e,handlerArgs:i}),"interruption";const d=o[s][e];if(!d)throw new Error(`Command (${e}) can't be handled by command provider (${s})`);d(i)};const i=a.default.route((0,n.COMMAND_HANDLE_WITH_PROVIDER)(e),(({commandId:e,handlerArgs:o})=>t.doHandleCommand(e,o)));t.watch((()=>window.isBeingDestroyed),(t=>{t&&i()}),{sync:!0})}},10108:(t,e,o)=>{"use strict";var i=o(95318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(90336),a=i(o(35746));e.default=t=>e=>{const o=new Set,i=e.watch((t=>t.sync.ready),(()=>{e.state.sync.ready&&(i(),e.watch((e=>e[n.EDITOR_OWNERSHIP].frameToEditor[t]),function(t){let e;const o=e=>t(...e).then((t=>t));return function(...t){return e=e?e.then((()=>o(t))):o(t),e}}((async(t=[])=>{const i=Array.from(o.keys()).filter((e=>!t.includes(e)));await e.dispatch("sync/unregisterModules",{namespaceArr:i.map((t=>(0,n.EDITOR_SHARED_WITH_ID)(t)))}),i.forEach((t=>o.delete(t)));const r=t.filter((t=>!o.has(t))),s=r.map((t=>(0,n.EDITOR_SHARED_WITH_ID)(t))).reduce(((t,e)=>(t[e]=a.default,t)),{});await e.dispatch("sync/registerModules",{modules:s}).then((()=>{r.forEach((t=>o.add(t)))}))})),{immediate:!0}))}))}},64148:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>s});var i=o(94015),n=o.n(i),a=o(23645),r=o.n(a)()(n());r.push([t.id,"\n.uk-flex-panel-button[data-v-753d03a0] {\n  flex: 1 0 auto;\n}\n@media screen and (max-width: 680px) {\n.uk-tab-capsule-outliner-ellipsis[data-v-753d03a0] {\n    max-width: 130px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/editor-frame/patterns/topbar/index.vue"],names:[],mappings:";AACA;EACE,cAAc;AAChB;AACA;AACA;IACI,gBAAgB;IAChB,mBAAmB;IACnB,gBAAgB;IAChB,uBAAuB;AAC3B;AACA",sourcesContent:["\n.uk-flex-panel-button[data-v-753d03a0] {\n  flex: 1 0 auto;\n}\n@media screen and (max-width: 680px) {\n.uk-tab-capsule-outliner-ellipsis[data-v-753d03a0] {\n    max-width: 130px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n}\n"],sourceRoot:""}]);const s=r},74892:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>s});var i=o(94015),n=o.n(i),a=o(23645),r=o.n(a)()(n());r.push([t.id,"\n.uk-title-bar-ellipsis[data-v-cedf9168] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  height: 21px;\n}\n.uk-title-bar-file-title[data-v-cedf9168] {\n  width: auto;\n  display: inline-block;\n}\n.uk-darwin-bigsur .uk-window-title-bar-control-group-right button[data-v-cedf9168] {\n  transform: translate(-2px, 2px);\n}\n","",{version:3,sources:["webpack://./app/renderer/pages/editor-frame/app.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;AACd;AACA;EACE,WAAW;EACX,qBAAqB;AACvB;AACA;EACE,+BAA+B;AACjC",sourcesContent:["\n.uk-title-bar-ellipsis[data-v-cedf9168] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  height: 21px;\n}\n.uk-title-bar-file-title[data-v-cedf9168] {\n  width: auto;\n  display: inline-block;\n}\n.uk-darwin-bigsur .uk-window-title-bar-control-group-right button[data-v-cedf9168] {\n  transform: translate(-2px, 2px);\n}\n"],sourceRoot:""}]);const s=r},5421:function(t,e,o){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=i(o(67714)),a=i(o(85314)),r=o(48932),s=o(58933),d=i(o(79914)),l=o(23074),c=o(20629),u=o(90336),m=i(o(7322)),p=o(48932),h=o(28441),b=o(83450),f=i(o(60226)),g=h.createGetTextWidthFunction(),I='13px -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, Roboto, "Helvetica Neue", Arial, sans-serif';e.default={components:{topbar:n.default,tabbar:a.default},mixins:[m.default],data:()=>({menuItems:[],titleMaxWidth:"100%",hoverPromotionButton:!1}),computed:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c.mapState("account",["user","token"])),c.mapGetters("activation",["trialElapsedDays","subscriptionStatus"])),c.mapGetters("activation",{activationStatus:"status"})),c.mapState(u.SHARED,["isEmptyFrame"])),c.mapGetters(u.SHARED,["isShowTabbar"])),c.mapState(u.SHARED,["activeEditorId"])),c.mapGetters("preferences",["language"])),{notificationColor(){const t="#991209";if(this.trialElapsedDays>=90)return t;function e(t){const e=[];for(let o=1;o<7;o+=2)e.push(parseInt("0x"+t.slice(o,o+2)));return e}const o=e("#FF9F0E"),i=e(t),n=(i[0]-o[0])/90,a=(i[1]-o[1])/90,r=(i[2]-o[2])/90,s=this.trialElapsedDays;return function(t,e,o){const i=(t<<16|e<<8|o).toString(16);return"#"+new Array(Math.abs(i.length-7)).join("0")+i}(parseInt(n*s+o[0]),parseInt(a*s+o[1]),parseInt(r*s+o[2]))},editorSharedState(){return this.$store.state[u.EDITOR_SHARED_WITH_ID(this.activeEditorId)]||{}},title(){const t=this.editorSharedState.title;return null!=t?`${t}`:""},isDirty(){return this.editorSharedState.dirty},menus(){return"darwin"!==process.platform?[this.$T("File"),this.$T("Edit"),this.$T("Insert"),this.$T("Tools"),this.$T("View"),this.$T("Help")]:[]},isIconOnly(){return this.$store.getters["preferences/toolbarStyle"]()===r.TOOLBAR_STYLE_ICON_ONLY},shouldShowPromotionButton(){return Boolean(this.promotionButtonText)},promotionButtonText(){const t=f.default("version").includes("beta");return this.activationStatus===r.ACTIVATION_STATUS.VALID?"":this.hoverPromotionButton?this.$T("Purchase Now"):t?this.$T("Beta Version"):this.trialElapsedDays<=1?this.$T("Evaluation Mode"):this.trialElapsedDays>=2?this.$T("$1 Days Evaluated",this.trialElapsedDays):this.$T("Evaluation Mode")},promotionButtonTitle(){return this.activationStatus===r.ACTIVATION_STATUS.VALID?"":this.$T("You can enjoy most of the features in Evaluation Mode. But some features are locked, please subscribe full version to unlock them.")},touchBarItems(){const t=t=>{const e=this.$store.getters[`${u.SHARED}/commandById`](t);return e&&e.enabled};return this.editorSharedState.editorMode===p.EDITOR_MODE_OUTLINER?[{type:"buttons",buttons:[{icon:"static/images/touchbar/touchbar-indentTemplate.png",enabled:t("outliner.indent"),click:"command:outliner.indent"},{icon:"static/images/touchbar/touchbar-outdentTemplate.png",enabled:t("outliner.outdent"),click:"command:outliner.outdent"},{icon:"static/images/touchbar/touchbar-notesTemplate.png",enabled:t("editor.showNotesEditor"),click:"command:editor.showNotesEditor"}]}]:[{type:"buttons",buttons:[{icon:"static/images/touchbar/touchbar-topicTemplate.png",enabled:t("editor.addTopic"),click:"command:editor.addTopic"},{icon:"static/images/touchbar/touchbar-subtopicTemplate.png",iconPosition:"overlay",enabled:t("editor.addSubTopic"),click:"command:editor.addSubTopic"},{icon:"static/images/touchbar/touchbar-relationshipTemplate.png",enabled:t("editor.addRelationship"),click:"command:editor.addRelationship"},{icon:"static/images/touchbar/touchbar-summaryTemplate.png",enabled:t("editor.addSummary"),click:"command:editor.addSummary"},{icon:"static/images/touchbar/touchbar-boundaryTemplate.png",enabled:t("editor.addBoundary"),click:"command:editor.addBoundary"},{icon:"static/images/touchbar/touchbar-notesTemplate.png",enabled:t("editor.showNotesEditor"),click:"command:editor.showNotesEditor"}]},{type:"buttons",buttons:[{icon:"static/images/touchbar/touchbar-zenTemplate.png",click:"command:workbench.toggleZenMode"}]}]},isInMapShotMode(){return this.$store.getters[`${u.SHARED}/aggregatedContexts`]["editor.inMapShotMode"]},editedTextWidth(){return g(`— ${this.$T("Edited")}`,I)+4+5},titleTextMaxWidth(){if(!this.editedTextWidth||!this.isDirty)return"100%";return`calc(100% - ${this.editedTextWidth}px)`},titleWidth(){return`${g(this.title,I)+15+(this.isDirty?this.editedTextWidth:0)}px`}}),watch:{language(){this.$nextTick((()=>{this.calcTitleMaxWidth()}))}},mounted(){"darwin"!==process.platform&&d.default.on(l.MENU_DID_UPDATE_STATE,(()=>{const t=s.remote.Menu.getApplicationMenu();this.menuItems=t&&t.items||[]})),this.checkPromotionButtonNormality(),this.calcTitleMaxWidth()},methods:{onActivateButtonClicked(){this.$store.handleCommand("activate"),b.trackEvent({eventAction:"purchaseWindow",eventName:"titleBar"})},clickMenu({target:t},e){const o=this.menuItems[e].submenu;if(!o||!o.items)return;const i=s.remote.Menu.buildFromTemplate(o.items),n=t.getBoundingClientRect();i.popup({x:parseInt(n.left),y:parseInt(n.top+n.height)})},checkPromotionButtonNormality(){if(!this.shouldShowPromotionButton)return;const t=this.$refs.titleBarControlGroup.querySelector("button");if(!t)throw new Error("No subscription prompts");!!t.offsetParent||(t.style.display="block"),(t.clientHeight<10||t.clientWidth<20)&&(t.style.display="block",t.style.height="20px",t.style.width="150px")},calcTitleMaxWidth(){if(!this.$refs.menuButton)return;let t=this.$refs.menuButton.clientWidth;const e="darwin"===process.platform;this.titleMaxWidth=`calc(100vw - ${t+132+30+(e?130:0)}px)`},closePopover(){this.$store.handleCommand("closeAllPopover")}}}},41336:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>d});var i=o(5421),n=o.n(i),a={};for(const t in i)"default"!==t&&(a[t]=()=>i[t]);o.d(e,a);var r=o(4594);var s=function(t){o(18695)};const d=(0,o(62236).Z)(n(),r.s,r.x,!1,s,"data-v-cedf9168",null).exports},85314:(t,e,o)=>{"use strict";o.r(e),o.d(e,{__esModule:()=>i.X,default:()=>n});var i=o(56447);const n=(0,o(62236).Z)(i.Z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"rootDom",staticClass:"uk-flex uk-flex-middle uk-child-separator uk-separator-vertical uk-workbench-tab-bar uk-position-relative",on:{dragenter:t.onDragEnter,dragover:t.onDragOver,drop:t.onDrop,dragleave:t.onDragLeave,dragexit:t.onDragExit}},[o("ul",{ref:"tabUL",staticClass:"uk-background-default uk-child-separator uk-separator-vertical uk-tab-contained uk-overflow-auto uk-scrollbar-hidden uk-flex-nowrap uk-flex-between uk-text-center uk-width-expand",attrs:{"uk-tab":""},on:{scroll:t.onTabScroll}},[t._l(t.editorIds,(function(e,i){return[o("li",{key:e,ref:"tabItems",refInFor:!0,class:{"uk-active":e===t.activeEditorId},staticStyle:{"flex-grow":"1"},attrs:{"data-index":i,"data-id":e,draggable:"true"},on:{click:function(o){return t.showEditor(e)},contextmenu:function(o){return t.popContextMenu(o,e)},dragstart:function(o){return t.onDragStart(o,e)},dragend:function(o){return t.onDragEnd(o,e)}}},[o("a",{staticClass:"uk-padding-remove uk-margin-remove uk-visible-toggle uk-position-relative",staticStyle:{cursor:"default"},attrs:{draggable:"false"}},[o("span",{staticClass:"uk-padding-medium uk-padding-remove-vertical",attrs:{"data-is-title-container":"",title:t.calcTitle(e)}},[t._v("\n            "+t._s(t.calcTitle(e))+"\n          ")]),t._v(" "),o("div",{staticClass:"uk-margin-remove uk-padding-remove uk-invisible-hover uk-position-absolute",staticStyle:{right:"4px",top:"4px"},attrs:{"uk-icon":"close"},on:{click:function(o){return o.stopPropagation(),t.closeEditor(e)}}})])])]}))],2),t._v(" "),t.isOverflow?o("div",{staticClass:"uk-flex uk-flex-row uk-flex-middle uk-background-default"},[o("div",{staticClass:"uk-padding-remove uk-margin-remove"},[o("button",{staticClass:"uk-button uk-button-tile uk-button-icon uk-padding-xsmall uk-padding-remove-vertical",class:[{"uk-disabled":t.swapLeftDisable}],attrs:{disabled:t.swapLeftDisable,"uk-icon":"previous"},on:{click:t.swapLeft}})]),t._v(" "),o("div",{staticClass:"uk-padding-remove uk-margin-remove"},[o("button",{staticClass:"uk-button uk-button-tile uk-button-icon uk-padding-xsmall uk-padding-remove-vertical",class:[{"uk-disabled":t.swapRightDisable}],attrs:{disabled:t.swapRightDisable,"uk-icon":"next"},on:{click:t.swapRight}})])]):t._e(),t._v(" "),o("div",{staticClass:"uk-padding-remove uk-margin-remove"},[o("button",{staticClass:"uk-button uk-button-tile uk-button-icon uk-border-none",attrs:{"uk-icon":"add",title:t.wrappedTooltipWithKeybinding(t.$T("Add a new tab."),"frame.addNewTab")},on:{click:function(e){return t.addNewEditorView()}}})])])}),[],!1,null,null,null).exports},67714:(t,e,o)=>{"use strict";o.r(e),o.d(e,{__esModule:()=>i.X,default:()=>a});var i=o(10738);var n=function(t){o(98791)};const a=(0,o(62236).Z)(i.Z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"uk-workbench-top-bar uk-flex uk-width-1-1 uk-flex-middle",style:{height:t.isTextVisible?"53px":"43px"},on:{contextmenu:t._openTopBarContextMenu}},[o("ul",{ref:"modeTabButtons",staticClass:"uk-tab uk-tab-capsule uk-flex uk-flex-nowrap uk-padding-remove uk-margin-remove uk-flex-middle uk-flex-no-shrink",class:{"uk-disabled":t.editorSharedState.sheetRendering}},t._l(t.modeTabItemsDebounced,(function(e){return o("li",{key:e.value,class:{"uk-active":t.editorSharedState.sheetRendering?t.editorSharedState.sheetRenderingInMode===e.value:t.mode===e.value}},[o("a",{class:{"uk-tab-capsule-outliner-ellipsis":t.isOutlineMode},attrs:{draggable:"false",href:"#",title:e.tooltip,disabled:e.disabled},on:{click:function(o){return t.changeMode(e.value,e.commandId)}}},[t._v(t._s(e.text))])])})),0),t._v(" "),o("div",{staticClass:"uk-flex",style:{flex:"8 0 auto",marginLeft:t.isOutlineMode?"125px":"35px"}},t._l(t.toolbarItemsDebounced,(function(e){return o("div",{key:e.id,ref:"toolbarItems",refInFor:!0,staticClass:"uk-workbench-top-bar-button uk-text-center uk-flex uk-flex-column uk-flex-middle uk-flex-center",class:e.classes,attrs:{"data-id":e.id}},[e.text?o("button",{staticClass:"uk-button uk-button-icon uk-border-rounded uk-padding-remove uk-button-tile",style:{height:"22px",minWidth:"47px"},attrs:{title:t.wrappedTooltipWithKeybinding(e.tooltip,e.commandId),disabled:e.disabled},on:{click:function(o){return t.onButtonClick(o,e)},mouseenter:function(o){return t.setHoverToolbarItemId(e.id)},mousemove:function(o){return t.setHoverToolbarItemId(e.id)},mouseleave:function(e){return t.removeHoverToolbarItemId()}}},[o("img",{attrs:{draggable:"false","uk-svg":"",src:e.icon}})]):t._e(),t._v(" "),t.isTextVisible?o("div",{staticClass:"uk-text-small uk-text-nowrap",style:{letterSpacing:"-0.6px",opacity:e.disabled?.3:1}},[t._v("\n        "+t._s(e.text)+"\n      ")]):t._e()])})),0),t._v(" "),o("div",{ref:"togglesButtons",staticClass:"uk-preserve-interactive uk-flex uk-flex-middle uk-flex-panel-button uk-flex-right"},[o("ul",{staticClass:"uk-tab uk-tab-icon uk-flex uk-flex-nowrap uk-flex-middle uk-flex-no-shrink uk-padding-remove uk-margin-remove",class:{"uk-margin-bottom":t.isTextVisible}},t._l(t.panelButtonItemsDebounced,(function(e){return e.show?o("li",{key:e.text,staticClass:"uk-flex uk-flex-column",class:{"uk-active":t.isRightbarVisible},style:{textAlign:"center"}},[o("a",{attrs:{draggable:"false",href:"#",title:e.tooltip,disabled:e.disabled},on:{click:function(o){return t.sendCommand(e.commandId)}}},[o("img",{attrs:{draggable:"false","uk-svg":"",src:e.icon}})]),t._v(" "),t.isTextVisible?o("span",{staticClass:"uk-text-nowrap uk-text-small"},[t._v(t._s(e.text))]):t._e()]):t._e()})),0)])])}),[],!1,n,"data-v-753d03a0",null).exports},4594:(t,e,o)=>{"use strict";o.d(e,{s:()=>i,x:()=>n});var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmptyFrame,expression:"!isEmptyFrame"}],staticClass:"uk-window",attrs:{id:"app"},on:{click:t.closePopover}},[o("div",{staticClass:"uk-window-expanded-title-bar"},[o("div",{ref:"titleBar",staticClass:"uk-window-title-bar uk-title-bar-ellipsis"},[o("window-control-button-group",{attrs:{"maximize-button":t.isInMapShotMode?"disabled":""}}),t._v(" "),o("div",{ref:"menuButton",staticClass:"uk-window-title-bar-control-group-left uk-text-top"},[o("ul",{staticClass:"uk-menu-bar uk-menu uk-flex-inline",attrs:{"uk-menu":""}},t._l(t.menus,(function(e,i){return o("li",{key:i,staticClass:"uk-parent",on:{click:function(e){return t.clickMenu(e,i)}}},[o("button",{attrs:{id:"view_menu_toggle","aria-expanded":"false"}},[t._v("\n              "+t._s(e)+"\n            ")])])})),0)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"uk-window-title uk-overflow-hidden uk-text-top uk-title-bar-file-title",style:{"max-width":t.titleMaxWidth,width:t.titleWidth}},[o("span",{ref:"titleText",staticClass:"uk-inline uk-text-nowrap uk-overflow-hidden uk-text-top",staticStyle:{"text-overflow":"ellipsis",display:"inline-block"},style:{"max-width":t.titleTextMaxWidth,fontWeight:600,fontSize:"13px"}},[t._v("\n          "+t._s(t.title)+"\n        ")]),t._v(" "),t.isDirty?o("span",{staticClass:"uk-window-title-edited-mark uk-flex-no-shrink uk-margin-xsmall-left uk-text-top"},[t._v("— "+t._s(t.$T("Edited")))]):t._e()]),t._v(" "),o("div",{ref:"titleBarControlGroup",staticClass:"uk-window-title-bar-control-group-right uk-position-relative",staticStyle:{display:"block !important","margin-left":"20px"}},[o("div",{staticClass:"uk-button-group",staticStyle:{display:"inline-flex !important","vertical-align":"top"}},[t.shouldShowPromotionButton?o("button",{staticClass:"uk-button uk-button-default uk-button-small uk-margin-xsmall-right uk-margin-xsmall-top uk-text-bold uk-button-danger",style:{lineHeight:"16px",background:t.notificationColor,border:0},attrs:{type:"button",title:t.promotionButtonTitle},on:{mouseover:function(e){t.hoverPromotionButton=!0},mouseleave:function(e){t.hoverPromotionButton=!1},click:t.onActivateButtonClicked}},[t._v("\n            "+t._s(t.promotionButtonText)+"\n          ")]):t._e()])])],1),t._v(" "),o("topbar",{staticClass:"uk-window-topbar",attrs:{"text-visibility":t.isIconOnly?"hidden":""}})],1),t._v(" "),o("div",{staticClass:"uk-window-body"},[o("tabbar",{directives:[{name:"show",rawName:"v-show",value:t.isShowTabbar,expression:"isShowTabbar"}]})],1)])},n=[]},98791:(t,e,o)=>{var i=o(64148);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45346).Z)("4cdc315d",i,!0,{})},18695:(t,e,o)=>{var i=o(74892);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,o(45346).Z)("6e96ccdd",i,!0,{})},76417:t=>{"use strict";t.exports=require("crypto")},58933:t=>{"use strict";t.exports=require("electron")},28614:t=>{"use strict";t.exports=require("events")},35747:t=>{"use strict";t.exports=require("fs")},12087:t=>{"use strict";t.exports=require("os")},85622:t=>{"use strict";t.exports=require("path")},87525:t=>{"use strict";t.exports=require("posthtml")},71191:t=>{"use strict";t.exports=require("querystring")},31669:t=>{"use strict";t.exports=require("util")}},t=>{"use strict";t.O(0,[8592,5586,4736,2872],(()=>{return e=5034,t(t.s=e);var e}));var e=t.O();module.exports=e}]);